(this.webpackJsonppubnubchatrtc=this.webpackJsonppubnubchatrtc||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(31),i=n.n(o),c=n(13),s=n(1);function u(){var e=Object(c.a)(["\n body {\n  font-family: ",";\n  font-weight: ",";\n  margin: ",";\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n* {\n  box-sizing: border-box;\n}\nbody,\nhtml,\n#root {\n  height: 100%;\n}\n"]);return u=function(){return e},e}var l=Object(s.c)(u(),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.space[0]}));function d(){var e=Object(c.a)(["\n\n//! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css\nhtml{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}\n//# sourceMappingURL=normalize.min.css.map\n      \n"]);return d=function(){return e},e}var m,f,p=Object(s.c)(d()),h=s.d.div.withConfig({displayName:"style__Wrapper",componentId:"ca4185-0"})(["text-align:left;display:flex;height:100%;flex-direction:column;"]),b=n(8),g=n(5),y=g.b,E=n(67),_=n.n(E),v=s.d.div.withConfig({displayName:"Loginstyle__Wrapper",componentId:"sc-1aqyl9-0"})(["display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;","{background:url(",");background-size:cover;background-position:center center;padding:10% 15%;}"],(function(e){return e.theme.mediaQueries.medium}),_.a),C=s.d.div.withConfig({displayName:"Loginstyle__Body",componentId:"sc-1aqyl9-1"})(["flex-grow:1;display:flex;flex-direction:row;"]),I=s.d.div.withConfig({displayName:"Loginstyle__Promo",componentId:"sc-1aqyl9-2"})(["display:flex;flex-direction:column;justify-content:flex-end;background:linear-gradient( 180deg,rgba(240,42,42,0.670214) 0%,rgba(138,42,225,0.55153) 100% );max-width:360px;border-top-left-radius:",";border-bottom-left-radius:",";display:none;","{display:flex;}"],(function(e){return e.theme.radii.strong}),(function(e){return e.theme.radii.strong}),(function(e){return e.theme.mediaQueries.large})),O=s.d.h1.withConfig({displayName:"Loginstyle__TagLine",componentId:"sc-1aqyl9-3"})(["color:",";font-size:24px;font-weight:",";margin:0px;text-align:center;padding:20px 50px;"],(function(e){return e.theme.colors.onPrimary}),(function(e){return e.theme.fontWeights.light})),N=s.d.div.withConfig({displayName:"Loginstyle__Screenshot",componentId:"sc-1aqyl9-4"})(["display:flex;justify-content:center;"]),x=s.d.div.withConfig({displayName:"Loginstyle__Content",componentId:"sc-1aqyl9-5"})(["background:",";flex-grow:1;display:flex;align-items:center;justify-content:center;border-top-right-radius:",";border-bottom-right-radius:",";border-top-left-radius:",";border-bottom-left-radius:",";background:",";","{border-top-left-radius:",";border-bottom-left-radius:",";}"],(function(e){return e.theme.backgrounds.panel}),(function(e){return e.theme.radii.strong}),(function(e){return e.theme.radii.strong}),(function(e){return e.theme.radii.strong}),(function(e){return e.theme.radii.strong}),(function(e){return e.theme.backgrounds.content}),(function(e){return e.theme.mediaQueries.large}),(function(e){return e.theme.radii.square}),(function(e){return e.theme.radii.square})),w=s.d.div.withConfig({displayName:"Loginstyle__LoginForm",componentId:"sc-1aqyl9-6"})(["width:300px;display:flex;flex-direction:column;font-size:14px;font-family:",";"],(function(e){return e.theme.fonts.app})),j=s.d.img.withConfig({displayName:"Loginstyle__Logo",componentId:"sc-1aqyl9-7"})(["height:30px;"]),D=s.d.div.withConfig({displayName:"Loginstyle__Label",componentId:"sc-1aqyl9-8"})(["color:",";padding-bottom:",";padding-top:",";"],(function(e){return e.theme.colors.importantText}),(function(e){return e.theme.space[1]}),(function(e){return e.theme.space[6]})),L=s.d.input.withConfig({displayName:"Loginstyle__Field",componentId:"sc-1aqyl9-9"})(["height:42px;color:",";border-radius:",";border:",";padding:",";background:",';&[type="password"]{letter-spacing:8px;font-size:24px;}:read-only:focus{outline:none;}'],(function(e){return e.theme.colors.importantText}),(function(e){return e.theme.radii.light}),(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.borderLight)}),(function(e){var t=e.theme;return"0 ".concat(t.space[3])}),(function(e){return e.theme.backgrounds.content})),T=s.d.button.withConfig({displayName:"Loginstyle__Button",componentId:"sc-1aqyl9-10"})(["align-self:center;cursor:pointer;border-radius:",";border:",";margin-top:",";padding:",";width:100%;height:42px;color:",";background:linear-gradient(155deg,#e12a66 0%,#5c0ce1 100%);font-weight:",";&:focus{outline:none;}"],(function(e){return e.theme.radii.light}),(function(e){return e.theme.borders.none}),(function(e){return e.theme.space[8]}),(function(e){var t=e.theme;return"".concat(t.space[3]," ").concat(t.space[0])}),(function(e){return e.theme.colors.activeText}),(function(e){return e.theme.fontWeights.regular})),S=n(68),z=n.n(S),k=n(4),A=n(6),M=n(11),R=n.n(M),W={isLoggingIn:!1},U=function(e){return e.authentication},V=Object(A.a)([U],(function(e){return R()(void 0!==e.loggedInUserId,"getLoggedInUserId should not be used in components of the application that are rendered while there is no logged in user"),e.loggedInUserId})),P=Object(A.a)(U,(function(e){return!!e.loggedInUserId})),G=Object(A.a)(U,(function(e){return e.isLoggingIn})),H=n(7),q=Object(A.a)([function(e){return e.joinedConversations}],(function(e){return e.byId})),B=Object(H.e)(),F=n(46),Q=n(69),J=n.n(Q),Y=Object(H.m)(),K=Object(A.a)([function(e){return e.users}],(function(e){return e.byId})),Z=function(){var e=y(),t=Object(g.c)(G),n=Object(g.c)(P),o=Object(r.useContext)(s.a),i=Object(g.c)(K),c=Object(r.useState)(""),u=Object(b.a)(c,2),l=u[0],d=u[1],m=i[l],f=function(){if(!t&&!n&&""===l){var r=F[Math.floor(Math.random()*F.length)];d(r),e(function(e){return function(t,n,r){t({type:"LOGGIN_IN"}),r.pubnub.api.setUUID(e);var a=t(Object(H.r)({userId:e})).then((function(){r.pubnub.api.subscribe({channels:[e],withPresence:!0})})).then((function(){return t(Object(H.p)({userId:e,include:{spaceFields:!0,customSpaceFields:!1,customFields:!1,totalCount:!1}}))})).then((function(){var t=q(n())[e].map((function(e){return e.id}));r.pubnub.api.subscribe({channels:t,withPresence:!0})}));return Promise.all([a]).then((function(){t({type:"LOGIN_SUCCEEDED",payload:{loggedInUserId:e}})}))}}(r))}};return n||t||f(),a.a.createElement(v,null,a.a.createElement(C,null,a.a.createElement(I,null,a.a.createElement(O,null,o.custom.tagLine),a.a.createElement(N,null,a.a.createElement("img",{alt:"pubnub chat screenshot",src:J.a}))),a.a.createElement(x,null,a.a.createElement(w,null,a.a.createElement(j,{alt:"PubNub",src:z.a}),a.a.createElement(D,null,"Username"),a.a.createElement(L,{readOnly:!0,value:m?m.name.toLowerCase().replace(" ","."):""}),a.a.createElement(D,null,"Password"),a.a.createElement(L,{readOnly:!0,type:"password",value:"password123"}),a.a.createElement(T,{onClick:f},t?"Connecting":"Log In")))))},$=s.d.div.withConfig({displayName:"ChatUIstyle__Wrapper",componentId:"sc-1yeb6q1-0"})(["display:flex;height:100%;"]),X=n(14);!function(e){e.MENU_VIEW_DISPLAYED="pubnub/MENU_VIEW_DISPLAYED",e.MENU_VIEW_HIDDEN="pubnub/MENU_VIEW_HIDDEN",e.CURRENT_CONVERSATION_VIEW_DISPLAYED="pubnub/CURRENT_CONVERSATION_VIEW_DISPLAYED",e.CURRENT_CONVERSATION_VIEW_HIDDEN="pubnub/CURRENT_CONVERSATION_VIEW_HIDDEN",e.CONVERSATION_MEMBERS_VIEW_DISPLAYED="pubnub/CONVERSATION_MEMBERS_VIEW_DISPLAYED",e.CONVERSATION_MEMBERS_VIEW_HIDDEN="pubnub/CONVERSATION_MEMBERS_VIEW_HIDDEN",e.JOIN_CONVERSATION_VIEW_DISPLAYED="pubnub/JOIN_CONVERSATION_VIEW_DISPLAYED",e.JOIN_CONVERSATION_VIEW_HIDDEN="pubnub/JOIN_CONVERSATION_VIEW_HIDDEN",e.USER_DETAIL_VIEW_DISPLAYED="pubnub/USER_DETAIL_VIEW_DISPLAYED",e.USER_DETAIL_VIEW_HIDDEN="pubnub/USER_DETAIL_VIEW_HIDDEN",e.RTC_VIEW_DISPLAYED="pubnub/RTC_VIEW_DISPLAYED",e.RTC_VIEW_HIDDEN="pubnub/RTC_VIEW_HIDDEN"}(m||(m={})),function(e){e[e.Menu=0]="Menu",e[e.CurrentConversation=1]="CurrentConversation",e[e.ConversationMembers=2]="ConversationMembers",e[e.JoinConversation=3]="JoinConversation",e[e.UserDetail=4]="UserDetail",e[e.Rtc=5]="Rtc"}(f||(f={}));var ee={views:[f.CurrentConversation]},te=function(e,t){return Object(k.a)(Object(k.a)({},e),{},{views:[].concat(Object(X.a)(e.views),[t])})},ne=function(e,t){return Object(k.a)(Object(k.a)({},e),{},{views:e.views.filter((function(e){return e!==t}))})},re=function(e){return e.layout},ae=(Object(A.a)([re],(function(e){return e.views[0]})),Object(A.a)([re],(function(e){return e.views}))),oe=Object(A.a)([ae],(function(e){return{Menu:e.includes(f.Menu),ConversationMembers:e.includes(f.ConversationMembers),JoinConversation:e.includes(f.JoinConversation),CurrentConversation:e.includes(f.CurrentConversation),UserDetail:e.includes(f.UserDetail),Rtc:e.includes(f.Rtc)}})),ie=n(70),ce=ie.conversationId,se=function(e){return{type:"FOCUS_ON_CONVERSATION",payload:e}},ue={currentConversationId:ce},le=Object(A.a)([function(e){return e.currentConversation}],(function(e){return e.currentConversationId})),de=n(10),me=Object(de.c)({conversations:Object(H.l)(),allConversations:Object(H.k)()}),fe=Object(A.a)([function(e){return e.conversations}],(function(e){return e.conversations.byId})),pe=Object(A.a)([function(e){return e.conversations.conversations},function(e){return e.conversations.allConversations}],(function(e,t){return t.spaceIds.map((function(t){return e.byId[t]}))})),he=function(e){var t=e.title,n=Object(r.useContext)(s.a);return a.a.createElement("svg",{width:20,height:20},a.a.createElement("title",null,t),a.a.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},a.a.createElement("circle",{stroke:n.colors.onPrimary,cx:9,cy:9,r:9}),a.a.createElement("path",{d:"M5 9h8M9 5v8",stroke:n.colors.onPrimary,strokeLinecap:"round",strokeLinejoin:"round"})))},be=s.d.div.withConfig({displayName:"ConversationItemstyle__Wrapper",componentId:"sc-1fzxd67-0"})(["cursor:pointer;display:flex;justify-content:space-between;height:",";padding:",";font-family:",";font-weight:",";font-size:",";text-transform:capitalize;color:",";background:",";:hover{background:",";}"],(function(e){return e.theme.sizes[2]}),(function(e){var t=e.theme;return"".concat(t.space[1]," ").concat(t.space[6])}),(function(e){return e.theme.fonts.app}),(function(e){var t=e.theme;return e.emphasized?t.fontWeights.black:t.fontWeights.regular}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.colors.onPrimary}),(function(e){var t=e.theme;return e.selected?t.backgrounds.primaryActive:"transparent"}),(function(e){var t=e.theme;return e.selected?t.backgrounds.primaryActive:t.backgrounds.primaryHover})),ge=s.d.div.withConfig({displayName:"ConversationItemstyle__Body",componentId:"sc-1fzxd67-1"})(["display:flex;"]),ye=s.d.div.withConfig({displayName:"ConversationItemstyle__Name",componentId:"sc-1fzxd67-2"})(["text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin:",";line-height:",";"],(function(e){var t=e.theme;return"".concat(t.space[0]," ").concat(t.space[6])}),(function(e){return e.theme.sizes[1]})),Ee=s.d.span.withConfig({displayName:"ConversationItemstyle__MessageCount",componentId:"sc-1fzxd67-3"})(["margin:",";:hover{display:none;}"],(function(e){return e.theme.space[3]})),_e=s.d.div.withConfig({displayName:"ConversationItemstyle__IconWrapper",componentId:"sc-1fzxd67-4"})(["display:flex;align-items:center;"]),ve=s.d.div.withConfig({displayName:"ConversationItemstyle__ConversationIcon",componentId:"sc-1fzxd67-5"})(["border-radius:",";width:",";height:",";line-height:",";font-family:",";font-weight:",";font-size:",";color:",";text-align:center;background:",";"],(function(e){return e.theme.radii.medium}),(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.medium}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.colors.selectedText}),(function(e){return e.color})),Ce=function(e){var t=e.title,n=(e.selected,Object(r.useContext)(s.a));return a.a.createElement("svg",{width:20,height:16},a.a.createElement("title",null,t),a.a.createElement("g",{fill:n.colors.onPrimary,fillRule:"evenodd"},a.a.createElement("path",{d:"M10.647 4.854L12.793 7H.5a.499.499 0 100 1h12.293l-2.146 2.145a.5.5 0 00.707.707l3-3a.497.497 0 000-.708l-3-3a.5.5 0 10-.707.71z"}),a.a.createElement("path",{d:"M19.001 1.5v12c0 .827-.673 1.5-1.5 1.5h-10c-.827 0-1.5-.673-1.5-1.5v-4a.5.5 0 011 0v4a.5.5 0 00.5.5h10a.5.5 0 00.5-.5v-12a.5.5 0 00-.5-.5h-10a.5.5 0 00-.5.5v4a.5.5 0 01-1 0v-4c0-.827.673-1.5 1.5-1.5h10c.827 0 1.5.673 1.5 1.5"})))};var Ie=function(e,t){var n=t.length;return t[(function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}(e)%n+n)%n]};function Oe(e){var t=(e.match(/(\([\w\s-:]+\))/)||[])[1]||e,n=window.matchMedia(t),a=Object(r.useState)(n.matches),o=Object(b.a)(a,2),i=o[0],c=o[1];return Object(r.useEffect)((function(){var e=function(){return c(n.matches)};return n.addListener(e),function(){return n.removeListener(e)}}),[n]),i}var Ne=function(e){var t=e.selected,n=e.id,o=e.name,i=e.onClick,c=e.onLeave,u=e.unreadMessageCount,l=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.mouseEnterDelayMS,o=void 0===a?200:a,i=n.mouseLeaveDelayMS,c=void 0===i?0:i,s=Object(r.useState)(!1),u=Object(b.a)(s,2),l=u[0],d=u[1];return[l,{onMouseEnter:function(){clearTimeout(t),e=setTimeout((function(){return d(!0)}),o)},onMouseLeave:function(){clearTimeout(e),t=setTimeout((function(){return d(!1)}),c)}}]}({mouseEnterDelayMS:0}),d=Object(b.a)(l,2),m=d[0],f=d[1],p=n!==ce,h=Object(r.useContext)(s.a),g=Oe(h.mediaQueries.touch),y=Ie(o,h.colors.avatars);return a.a.createElement(be,Object.assign({},f,{selected:t,emphasized:u>0,onClick:i}),a.a.createElement(ge,null,a.a.createElement(ve,{color:y},"#"),a.a.createElement(ye,null,o)),(m||g)&&p?a.a.createElement(_e,{onClick:function(e){e.stopPropagation(),c()}},a.a.createElement(Ce,{title:"Leave Conversation",selected:t})):u>0&&a.a.createElement(Ee,null,u))},xe=s.d.div.withConfig({displayName:"MyConversationsstyle__Wrapper",componentId:"sc-1yz4vv5-0"})(["display:flex;flex-direction:column;overflow:auto;margin:",";margin-top:",";"],(function(e){return e.theme.space[0]}),(function(e){return e.theme.space[1]})),we=s.d.div.withConfig({displayName:"MyConversationsstyle__ConversationList",componentId:"sc-1yz4vv5-1"})(["overflow-y:auto;overflow-y:overlay;display:flex;flex-direction:column;"]),je=s.d.div.withConfig({displayName:"MyConversationsstyle__Title",componentId:"sc-1yz4vv5-2"})(["display:flex;justify-content:space-between;align-items:center;margin:",";font-size:",";font-weight:",";color:",";"],(function(e){var t=e.theme;return"".concat(t.space[1]," ").concat(t.space[6])}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.fontWeights.medium}),(function(e){return e.theme.colors.onPrimary})),De=s.d.span.withConfig({displayName:"MyConversationsstyle__AddButton",componentId:"sc-1yz4vv5-3"})(["cursor:pointer;font-size:0px;align-self:center;cursor:pointer;"]),Le=Object(A.a)([function(e){return e.conversationMembers}],(function(e){return e.byId})),Te=Object(H.d)(),Se=Object(H.h)(),ze=Object(A.a)([function(e){return e.memberPresence}],(function(e){return e.byId})),ke=s.d.div.withConfig({displayName:"UserInitialsAvatar__Wrapper",componentId:"sc-1u1npiv-0"})(["vertical-align:middle;border-radius:",";width:","px;height:","px;line-height:","px;font-size:","px;font-family:",";font-weight:",";text-transform:uppercase;text-align:center;color:",";background-color:",";"],(function(e){return e.theme.radii.round}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return Math.round(e.size/3)}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.colors.avatarText}),(function(e){return e.color})),Ae=function(e){var t=e.name,n=e.userId,o=e.size,i=(e.muted,e.color),c=Object(r.useContext)(s.a),u=t.match(/\b\w/g)||[],l=Ie(n,c.colors.avatars);return a.a.createElement(ke,{size:o,color:i||l},u)},Me=function(e){return{type:"SELECT_USER",payload:{selectedUserId:e}}},Re={selectedUserId:""},We=Object(A.a)((function(e){return e.userDetail}),(function(e){return e.selectedUserId})),Ue=function(){return{type:m.USER_DETAIL_VIEW_DISPLAYED}},Ve=function(){return{type:m.RTC_VIEW_DISPLAYED}},Pe=function(){return{type:m.MENU_VIEW_HIDDEN}},Ge=function(){return{type:m.JOIN_CONVERSATION_VIEW_HIDDEN}},He=function(){return{type:m.CONVERSATION_MEMBERS_VIEW_HIDDEN}},qe=s.d.div.withConfig({displayName:"MemberDescriptionstyle__Wrapper",componentId:"sc-1vktazh-0"})(["display:flex;align-items:center;height:",";padding:",";:hover{background:",";}"],(function(e){return e.theme.sizes[2]}),(function(e){var t=e.theme;return"".concat(t.space[0]," ").concat(t.space[6])}),(function(e){return e.theme.backgrounds.panelHover})),Be=s.d.div.withConfig({displayName:"MemberDescriptionstyle__PresenceDot",componentId:"sc-1vktazh-1"})(["border-radius:",";width:","px;height:","px;top:-","px;right:-","px;position:absolute;background-color:",";font-size:0px;"],(function(e){return e.theme.radii.round}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size/2}),(function(e){return e.size/2}),(function(e){var t=e.theme;return e.presence?t.colors.success:t.colors.inactive})),Fe=s.d.div.withConfig({displayName:"MemberDescriptionstyle__Avatar",componentId:"sc-1vktazh-2"})(["width:",";height:",";position:relative;"],(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.sizes[1]})),Qe=s.d.div.withConfig({displayName:"MemberDescriptionstyle__About",componentId:"sc-1vktazh-3"})(["display:flex;flex-direction:column;justify-content:space-between;padding-left:",";height:",";"],(function(e){return e.theme.space[6]}),(function(e){return e.theme.sizes[1]})),Je=s.d.div.withConfig({displayName:"MemberDescriptionstyle__UserName",componentId:"sc-1vktazh-4"})(["font-family:",";font-weight:",";font-size:",";text-transform:capitalize;color:",";cursor:pointer;"],(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.medium}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.colors.importantText})),Ye=s.d.div.withConfig({displayName:"MemberDescriptionstyle__UserTitle",componentId:"sc-1vktazh-5"})(["font-family:",";font-weight:",";font-size:",";color:",";"],(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.colors.normalText})),Ke=function(e){var t=e.user,n=e.you,r=Object(g.b)();return a.a.createElement(qe,null,a.a.createElement(Fe,null,a.a.createElement(Ae,{size:36,name:t.name,userId:t.id,muted:!t.presence}),t.presence&&a.a.createElement(Be,{presence:t.presence,size:7})),a.a.createElement(Qe,null,a.a.createElement(Je,{muted:!t.presence,onClick:function(){r(Me(t.id)),r(Ue())}},t.name,n&&" (you)"),a.a.createElement(Ye,{muted:!t.presence},t.custom.title)))},Ze=function(e){var t=e.title,n=e.color;return a.a.createElement("svg",{width:16,height:16},a.a.createElement("title",null,t),a.a.createElement("g",{stroke:n,strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},a.a.createElement("path",{d:"M1 1l13.2 13.2M14.2 1L1 14.2"})))},$e=n(12),Xe=Object(s.d)($e.a.section).withConfig({displayName:"ConversationMembersstyle__Wrapper",componentId:"sc-14b0zjt-0"})(["display:none;flex-direction:column;position:fixed;z-index:100;margin-left:",";width:100%;max-width:none;height:100%;background:",";","{position:relative;min-width:",";max-width:",";}"],(function(e){return e.theme.space[0]}),(function(e){return e.theme.backgrounds.panel}),(function(e){return e.theme.mediaQueries.medium}),(function(e){return e.theme.sizes[5]}),(function(e){return e.theme.sizes[5]})),et=s.d.div.withConfig({displayName:"ConversationMembersstyle__Controls",componentId:"sc-14b0zjt-1"})(["display:flex;align-items:center;justify-content:flex-end;position:absolute;top:0;min-height:",";padding:",";width:100%;"],(function(e){return e.theme.sizes[1]}),(function(e){var t=e.theme;return"".concat(t.space[6])})),tt=s.d.div.withConfig({displayName:"ConversationMembersstyle__Header",componentId:"sc-14b0zjt-2"})(["display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;min-height:",";padding:",";padding-bottom:0;color:",";font-size:",";font-weight:",";"],(function(e){return e.theme.sizes[3]}),(function(e){return e.theme.space[6]}),(function(e){return e.theme.colors.importantText}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.fontWeights.medium})),nt=s.d.div.withConfig({displayName:"ConversationMembersstyle__IconWrapper",componentId:"sc-14b0zjt-3"})(["display:flex;align-items:center;"]),rt=s.d.div.withConfig({displayName:"ConversationMembersstyle__ConversationIcon",componentId:"sc-14b0zjt-4"})(["border-radius:",";width:",";height:",";line-height:",";font-family:",";font-weight:",";font-size:",";color:",";text-align:center;background:",";"],(function(e){return e.theme.radii.medium}),(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.medium}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.colors.onPrimary}),(function(e){return e.color})),at=s.d.div.withConfig({displayName:"ConversationMembersstyle__Details",componentId:"sc-14b0zjt-5"})(["height:",";padding-left:",";display:flex;flex-direction:column;justify-content:center;"],(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.space[6]})),ot=s.d.div.withConfig({displayName:"ConversationMembersstyle__Channel",componentId:"sc-14b0zjt-6"})(["font-weight:",";font-size:",";color:",";"],(function(e){return e.theme.fontWeights.medium}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.colors.importantText})),it=s.d.div.withConfig({displayName:"ConversationMembersstyle__Title",componentId:"sc-14b0zjt-7"})(["font-weight:",";font-size:",";color:",";padding:",";"],(function(e){return e.theme.fontWeights.medium}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.colors.importantText}),(function(e){var t=e.theme;return"".concat(t.space[1]," ").concat(t.space[6])})),ct=s.d.span.withConfig({displayName:"ConversationMembersstyle__CloseIcon",componentId:"sc-14b0zjt-8"})(["cursor:pointer;"]),st=s.d.span.withConfig({displayName:"ConversationMembersstyle__ScrollableView",componentId:"sc-14b0zjt-9"})(["overflow-y:scroll;"]),ut=(s.d.div.withConfig({displayName:"ConversationMembersstyle__BackIconWrapper",componentId:"sc-14b0zjt-10"})(["cursor:pointer;display:flex;margin-right:",";justify-self:flex-start;","{display:none;}"],(function(e){return e.theme.space[7]}),(function(e){return e.theme.mediaQueries.medium})),function(e,t){return{open:{x:e?"0px":"0%",display:"flex"},closed:{x:e?t:"-100%",transitionEnd:{display:"none"}}}}),lt=n(33),dt=function(e){var t=e.title,n=e.active,o=Object(r.useContext)(s.a);return a.a.createElement("svg",{width:20,height:15},a.a.createElement("title",null,t),a.a.createElement("g",{fill:n?o.colors.active:o.colors.normalText,fillRule:"evenodd"},a.a.createElement("path",{d:"M7 13.503a.5.5 0 00.5.497h11a.5.5 0 00.5-.497c-.001-.035-.032-.895-.739-1.734C17.287 10.612 15.468 10 13 10s-4.287.612-5.261 1.768c-.707.84-.738 1.699-.739 1.734M18.5 15h-11c-.827 0-1.5-.673-1.5-1.5 0-.048.011-1.19.924-2.315.525-.646 1.241-1.158 2.128-1.522C10.123 9.223 11.452 9 13 9s2.876.223 3.948.662c.887.364 1.603.876 2.128 1.522.914 1.125.924 2.267.924 2.315 0 .827-.673 1.5-1.5 1.5M13 1c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 7c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4M4.5 15h-3C.673 15 0 14.327 0 13.5c0-.037.008-.927.663-1.8.378-.505.894-.904 1.533-1.188.764-.34 1.708-.512 2.805-.512.179 0 .356.005.527.014a.5.5 0 01-.053.999 9.1 9.1 0 00-.473-.012c-3.894 0-3.997 2.379-4 2.503a.5.5 0 00.5.497h3a.5.5 0 010 1L4.5 15zM5 4c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2m0 5C3.346 9 2 7.654 2 6s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3"})))},mt=s.d.div.withConfig({displayName:"ConversationOccupancystyle__Wrapper",componentId:"sc-1trbjq4-0"})(["display:flex;align-items:center;align-self:flex-start;cursor:pointer;flex-direction:column-reverse;margin-left:",";color:",";font-family:",";font-weight:",";font-size:",";","{flex-direction:row;}"],(function(e){return e.theme.space[6]}),(function(e){var t=e.theme;return e.highlighted?t.colors.active:t.colors.normalText}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.light}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.mediaQueries.medium})),ft=s.d.section.withConfig({displayName:"ConversationOccupancystyle__OccupancyNumber",componentId:"sc-1trbjq4-1"})(["cursor:pointer;margin-right:",";margin-top:",";","{margin-right:",";margin-top:",";}em{font-style:normal;font-family:",";font-weight:",";}"],(function(e){return e.theme.space[0]}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.mediaQueries.medium}),(function(e){return e.theme.space[3]}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.black})),pt=s.d.span.withConfig({displayName:"ConversationOccupancystyle__IconWrapper",componentId:"sc-1trbjq4-2"})(["cursor:pointer;"]),ht=Object(A.a)([le,Le,ze],(function(e,t,n){var r=t[e],a=n[e];return{joinedCount:r?r.length:0,presentCount:a?a.occupancy:0}})),bt=function(){var e=Object(g.c)(ht),t=e.joinedCount,n=e.presentCount,r=Object(g.c)(oe).ConversationMembers,o=Object(g.b)();return a.a.createElement(mt,{highlighted:r,onClick:function(){o(r?He():{type:m.CONVERSATION_MEMBERS_VIEW_DISPLAYED})}},a.a.createElement(ft,null,a.a.createElement("em",null,n)," | ",t),a.a.createElement(pt,null,a.a.createElement(dt,{title:r?"Hide members list":"Show convsersation members",active:r})))},gt=s.d.section.withConfig({displayName:"Headerstyle__Wrapper",componentId:"atjq96-0"})(["display:flex;flex-direction:column;width:100%;min-height:",";justify-content:space-between;background:",";padding:",";padding-bottom:0px;","{background:transparent;}"],(function(e){return e.theme.sizes[3]}),(function(e){return e.theme.backgrounds.panel}),(function(e){var t=e.theme;return"".concat(t.space[7]," ").concat(t.space[6])}),(function(e){return e.theme.mediaQueries.medium})),yt=s.d.div.withConfig({displayName:"Headerstyle__BackIconWrapper",componentId:"atjq96-1"})(["cursor:pointer;display:flex;margin-right:",";","{display:none;}"],(function(e){return e.theme.space[7]}),(function(e){return e.theme.mediaQueries.medium})),Et=s.d.div.withConfig({displayName:"Headerstyle__Body",componentId:"atjq96-2"})(["display:flex;align-items:center;justify-content:space-between;height:",";width:100%;"],(function(e){return e.theme.sizes[1]})),_t=s.d.div.withConfig({displayName:"Headerstyle__Border",componentId:"atjq96-3"})(["display:none;border-bottom:",";","{display:inherit;}"],(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.neutral[2])}),(function(e){return e.theme.mediaQueries.medium})),vt=s.d.div.withConfig({displayName:"Headerstyle__Information",componentId:"atjq96-4"})(["display:flex;flex-direction:column;height:100%;"]),Ct=s.d.div.withConfig({displayName:"Headerstyle__Name",componentId:"atjq96-5"})(["flex-grow:1;color:",";font-size:",";font-family:",";font-weight:",";text-transform:capitalize;"],(function(e){return e.theme.colors.importantText}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.medium})),It=s.d.div.withConfig({displayName:"Headerstyle__Description",componentId:"atjq96-6"})(["flex-grow:1;color:",";font-size:",";font-family:",";font-weight:",";text-transform:capitalize;"],(function(e){return e.theme.colors.normalText}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular})),Ot=function(e){var t=e.title,n=Object(r.useContext)(s.a);return a.a.createElement("svg",{width:12,height:22},a.a.createElement("title",null,t),a.a.createElement("path",{d:"M3.621 11l7.94-7.94A1.5 1.5 0 009.439.94l-9 9a1.5 1.5 0 000 2.12l9 9a1.5 1.5 0 002.122-2.12L3.62 11z",fill:n.colors.active,fillRule:"nonzero"}))},Nt=Object(A.a)([fe,le],(function(e,t){return Object(k.a)({},e[t])})),xt=function(){var e=Object(g.c)(Nt),t=Object(g.b)();return a.a.createElement(gt,null,a.a.createElement(Et,null,a.a.createElement(yt,{onClick:function(){t({type:m.MENU_VIEW_DISPLAYED})}},a.a.createElement(Ot,{title:"back"})),a.a.createElement(vt,null,a.a.createElement(Ct,null,e.name),a.a.createElement(It,null,e.description)),a.a.createElement(bt,null)),a.a.createElement(_t,null))},wt=Object(A.a)([K,le,Le,ze],(function(e,t,n,r){var a=r[t];return n[t]?n[t].map((function(t){return Object(k.a)(Object(k.a)({},e[t.id]),{},{presence:!!a&&a.occupants.filter((function(e){return e.uuid===t.id})).length>0})})):[]})),jt=function(){var e=Object(g.c)(V),t=Object(g.c)(wt),n=Object(g.c)(le),o=Object(g.b)(),i=Object(lt.b)(),c=Object(g.c)(oe),u=Object(r.useContext)(s.a),l=Oe(u.mediaQueries.medium),d=Object(g.c)(Nt),m=Ie(d.name,u.colors.avatars);return Object(r.useEffect)((function(){0===t.length&&(o(Object(H.o)({spaceId:n,include:{userFields:!0,customUserFields:!0,totalCount:!1}})),o(Object(H.n)({channels:[n]})))}),[t,n,i,o]),a.a.createElement(Xe,{animate:c.ConversationMembers?"open":"closed",variants:ut(l,u.sizes[4]),transition:{ease:"linear",duration:.15}},a.a.createElement(et,null,a.a.createElement(ct,{onClick:function(){o(He())}},a.a.createElement(Ze,{color:u.colors.normalText,title:"close members list"}))),a.a.createElement(tt,null,a.a.createElement(nt,null,a.a.createElement(rt,{color:m},"#"),a.a.createElement(at,null,a.a.createElement(ot,null,d.name)))),a.a.createElement(it,null,"Members"),a.a.createElement(st,null,function(e){return e.sort((function(e,t){return e.presence===t.presence?0:e.presence?-1:1}))}(t).map((function(t){return a.a.createElement(Ke,{user:t,key:t.id,you:t.id===e})}))))},Dt=Object(A.a)([fe,V,q],(function(e,t,n){return n[t]?n[t].map((function(t){return{id:t.id,name:e[t.id].name}})):[]})),Lt=function(){var e=Object(g.c)(V),t=Object(g.c)(fe),n=Object(g.c)(Dt),r=Object(g.c)(le),o=Object(g.c)(wt),i=Object(g.b)();return void 0===t?a.a.createElement("div",null,"Loading..."):a.a.createElement(xe,null,a.a.createElement(je,null,"Conversations",a.a.createElement(De,{onClick:function(){i(Object(H.q)()),i({type:m.JOIN_CONVERSATION_VIEW_DISPLAYED})}},a.a.createElement(he,{title:"Join conversation"}))),a.a.createElement(we,null,n.map((function(t){return a.a.createElement(Ne,{id:t.id,name:t.name,onLeave:function(){var n,r;i((n=e,r=t.id,function(e,t,a){return r===ce?Promise.resolve():e(Object(H.t)({userId:n,spaces:[{id:r}]})).then((function(){a.pubnub.api.unsubscribe({channels:[r]}),e(se(ce))}))}))},selected:t.id===r,key:t.id,unreadMessageCount:0,onClick:function(){i(se(t.id)),i({type:m.CURRENT_CONVERSATION_VIEW_DISPLAYED}),i(Pe()),0===o.length&&i(Object(H.o)({spaceId:t.id,include:{userFields:!0,customUserFields:!0,totalCount:!1}}))}})}))))},Tt=Object(s.d)($e.a.section).withConfig({displayName:"Menustyle__Wrapper",componentId:"sc-165ibz1-0"})(["flex-direction:column;z-index:100;width:100%;max-width:none;background:",";","{min-width:",";max-width:",";}"],(function(e){return e.theme.backgrounds.primary}),(function(e){return e.theme.mediaQueries.medium}),(function(e){return e.theme.sizes[4]}),(function(e){return e.theme.sizes[4]})),St=s.d.div.withConfig({displayName:"Menustyle__Controls",componentId:"sc-165ibz1-1"})(["display:flex;align-items:center;justify-content:flex-end;position:absolute;top:0;min-height:",";padding:",";width:100%;"],(function(e){return e.theme.sizes[1]}),(function(e){var t=e.theme;return"".concat(t.space[6])})),zt=s.d.span.withConfig({displayName:"Menustyle__CloseIcon",componentId:"sc-165ibz1-2"})(["cursor:pointer;","{display:none;}"],(function(e){return e.theme.mediaQueries.medium})),kt=(s.d.img.withConfig({displayName:"Menustyle__Img",componentId:"sc-165ibz1-3"})(["align-self:flex-end;margin-top:auto;max-width:100%;"]),function(e,t){return{open:{x:"0%",display:"flex"},closed:{x:e?"-".concat(t):"-100%",transitionEnd:{display:"none"}}}}),At=function(){return a.a.createElement("svg",{height:"100%",viewBox:"0 0 60 60"},a.a.createElement("g",{id:"Team-Chat",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{id:"Rectangle",fill:"#DE2440",x:0,y:0,width:60,height:60,rx:10}),a.a.createElement("path",{d:"M17.8154297,40 L17.8154297,31.0058594 L21.8730469,31.0058594 C23.9726562,31.0058594 25.6108398,30.5493164 26.7875977,29.6362305 C27.9643555,28.7231445 28.5527344,27.2265625 28.5527344,25.1464844 C28.5527344,23.2128906 28.003418,21.8041992 26.9047852,20.9204102 C25.8061523,20.0366211 24.0556641,19.5947266 21.6533203,19.5947266 L21.6533203,19.5947266 L14.6074219,19.5947266 L14.6074219,40 L17.8154297,40 Z M21.2431641,28.5742188 L17.8154297,28.5742188 L17.8154297,22.0263672 L21.2431641,22.0263672 C22.6591797,22.0263672 23.6821289,22.2558594 24.3120117,22.7148438 C24.9418945,23.1738281 25.2568359,23.984375 25.2568359,25.1464844 C25.2568359,26.4648438 24.9272461,27.3657227 24.2680664,27.8491211 C23.6088867,28.3325195 22.6005859,28.5742188 21.2431641,28.5742188 L21.2431641,28.5742188 Z M35.0859375,40 L35.0859375,27.2558594 C35.3691406,27.1484375 35.8671875,27.0043945 36.5800781,26.8237305 C37.2929688,26.6430664 38.0791016,26.5527344 38.9384766,26.5527344 C40.2763672,26.5527344 41.2260742,26.8798828 41.7875977,27.5341797 C42.3491211,28.1884766 42.6298828,29.2236328 42.6298828,30.6396484 L42.6298828,30.6396484 L42.6298828,40 L45.75,40 L45.75,29.3212891 C45.75,27.6025391 45.1689453,26.3330078 44.0068359,25.5126953 C42.8447266,24.6923828 41.1845703,24.2822266 39.0263672,24.2822266 C38.2451172,24.2822266 37.4736328,24.3359375 36.7119141,24.4433594 C35.9501953,24.5507812 35.2495117,24.675293 34.6098633,24.8168945 C33.9702148,24.9584961 33.4208984,25.0976562 32.9619141,25.234375 L32.9619141,25.234375 L31.9804688,25.5419922 L31.9804688,40 L35.0859375,40 Z",id:"Pn",fill:"#FFFFFF",fillRule:"nonzero"})))},Mt=function(e){var t=e.title,n=e.active,o=e.size,i=Object(r.useContext)(s.a);return a.a.createElement("svg",{width:o,height:o},a.a.createElement("title",null,t),a.a.createElement("circle",{cx:o/2,cy:o/2,r:o/2,fill:n?i.colors.success:i.colors.inactive,fillRule:"evenodd"}))},Rt=s.d.span.withConfig({displayName:"NetworkStatusstyle__Wrapper",componentId:"sc-4dza69-0"})(["height:","px;width:","px;display:flex;"],(function(e){return e.size}),(function(e){return e.size})),Wt=function(e){var t=e.size,n=Object(g.c)((function(e){return e.networkStatus.isConnected}));return a.a.createElement(Rt,{size:t},a.a.createElement(Mt,{size:t,title:n?"connected":"not connected",active:n}))},Ut=s.d.div.withConfig({displayName:"MyUserDetailsstyle__Wrapper",componentId:"sc-9uhamr-0"})(["display:flex;align-items:center;padding-bottom:0px;text-transform:capitalize;"]),Vt=s.d.div.withConfig({displayName:"MyUserDetailsstyle__UserName",componentId:"sc-9uhamr-1"})(["font-size:",";font-family:",";font-weight:",";color:",";padding-right:",";"],(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.colors.onPrimary}),(function(e){return e.theme.space[1]})),Pt=function(){var e=Object(g.c)(V),t=Object(g.c)(K)[e];return void 0===t?a.a.createElement("div",null,"Loading..."):a.a.createElement(Ut,null,a.a.createElement(Vt,null,t.name),a.a.createElement(Wt,{size:7}))};function Gt(){var e=Object(c.a)(["\n  color: ",";\n  font-size: ",";\n  font-family: ",";\n  font-weight: ",";\n"]);return Gt=function(){return e},e}function Ht(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-left: ",";\n  min-height: ",";\n  justify-content: space-between;\n"]);return Ht=function(){return e},e}function qt(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  height: ",";\n  width: 100%;\n  padding: ",";\n  padding-bottom: 0px;\n"]);return qt=function(){return e},e}var Bt,Ft=s.d.div(qt(),(function(e){return e.theme.sizes[3]}),(function(e){return e.theme.space[6]})),Qt=s.d.div(Ht(),(function(e){return e.theme.space[4]}),(function(e){return e.theme.sizes[1]})),Jt=s.d.span(Gt(),(function(e){return e.theme.colors.onPrimary}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.medium})),Yt=function(){var e=Object(r.useContext)(s.a);return a.a.createElement(Ft,null,a.a.createElement(At,null),a.a.createElement(Qt,null,a.a.createElement(Jt,null,e.custom.companyName),a.a.createElement(Pt,null)))},Kt=function(){var e=Object(r.useRef)(null),t=Object(g.c)(oe),n=Object(r.useContext)(s.a),o=Oe(n.mediaQueries.medium),i=Object(g.b)();return a.a.createElement(Tt,{ref:e,animate:t.Menu||o?"open":"closed",variants:kt(o,n.sizes[4])},a.a.createElement(St,null,a.a.createElement(zt,{onClick:function(){return i(Pe())}},a.a.createElement(Ze,{color:n.colors.onPrimary,title:"close conversations"}))),a.a.createElement(Yt,null),a.a.createElement(Lt,null))},Zt=Object(s.d)($e.a.section).withConfig({displayName:"CurrentConversationstyle__Wrapper",componentId:"sc-1a1khwv-0"})(["display:flex;flex-direction:column;position:fixed;z-index:0;margin:",";width:100%;height:100%;background:",";border:",";","{position:static;}"],(function(e){return e.theme.space[0]}),(function(e){return e.theme.backgrounds.content}),(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.borderLight)}),(function(e){return e.theme.mediaQueries.medium})),$t=(s.d.div.withConfig({displayName:"CurrentConversationstyle__Body",componentId:"sc-1a1khwv-1"})(["display:flex;flex-direction:column;margin:",";margin-top:",";height:100%;"],(function(e){return e.theme.space[5]}),(function(e){return e.theme.space[0]})),{open:{display:"flex"},closed:{transitionEnd:{display:"none"}}}),Xt=n(18),en=s.d.div.withConfig({displayName:"MessageListItemstyle__Wrapper",componentId:"ndpiy0-0"})(["display:flex;flex-direction:row;flex-shrink:0;padding:",";","{padding:",";}:hover{background-color:",";}:first-child{margin-top:auto;}:last-child{padding-bottom:",";}"],(function(e){var t=e.theme;return"".concat(t.space[1]," ").concat(t.space[5])}),(function(e){return e.theme.mediaQueries.medium}),(function(e){var t=e.theme;return"".concat(t.space[1]," ").concat(t.space[6])}),(function(e){return e.theme.backgrounds.contentHover}),(function(e){return e.theme.space[4]})),tn=s.d.div.withConfig({displayName:"MessageListItemstyle__Body",componentId:"ndpiy0-1"})(["display:flex;flex-direction:column;margin-left:",";"],(function(e){return e.theme.space[5]})),nn=s.d.div.withConfig({displayName:"MessageListItemstyle__Header",componentId:"ndpiy0-2"})(["margin:",";margin-bottom:",";"],(function(e){return e.theme.space[0]}),(function(e){return e.theme.space[1]})),rn=(s.d.div.withConfig({displayName:"MessageListItemstyle__Content",componentId:"ndpiy0-3"})(["white-space:pre-wrap;width:fit-content;padding:",";font-size:",";font-family:",";font-weight:",";border-radius:",";border-top-left-radius:",";text-align:left;background:",";color:",";","{font-size:",";}"],(function(e){return e.theme.space[5]}),(function(e){return e.theme.fontSizes.small}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.radii.strong}),(function(e){return e.theme.radii.square}),(function(e){return e.theme.backgrounds.message}),(function(e){return e.theme.colors.messageText}),(function(e){return e.theme.mediaQueries.medium}),(function(e){return e.theme.fontSizes.regular})),s.d.div.withConfig({displayName:"MessageListItemstyle__Avatar",componentId:"ndpiy0-4"})(["width:",";height:",";"],(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.sizes[1]}))),an=s.d.span.withConfig({displayName:"MessageListItemstyle__SenderName",componentId:"ndpiy0-5"})(["font-size:",";font-family:",";font-weight:",";text-transform:capitalize;color:",";cursor:",";&:hover{text-decoration:",";}"],(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.medium}),(function(e){return e.theme.colors.importantText}),(function(e){e.theme;return e.showDetails?"pointer":"default"}),(function(e){e.theme;return e.showDetails?"underline":"default"})),on=s.d.span.withConfig({displayName:"MessageListItemstyle__TimeSent",componentId:"ndpiy0-6"})(["font-size:",";font-family:",";font-weight:",";margin-left:",";color:",";"],(function(e){return e.theme.fontSizes.small}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.light}),(function(e){return e.theme.space[3]}),(function(e){return e.theme.colors.importantText})),cn=s.d.div.withConfig({displayName:"TextMessageDisplaystyle__Content",componentId:"sc-1ljf31d-0"})(["white-space:pre-wrap;border-radius:",";border-top-left-radius:",";padding:",";width:fit-content;line-height:1.5;font-size:",";font-family:",";font-weight:",";text-align:left;background:",";box-shadow:",";color:",";"],(function(e){return e.theme.radii.strong}),(function(e){return e.theme.radii.square}),(function(e){return e.theme.space[4]}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.backgrounds.message}),(function(e){return e.theme.shadows[0]}),(function(e){return e.theme.colors.messageText})),sn=function(e){var t=e.message;return a.a.createElement(cn,null,t.text)};!function(e){e.Text="text",e.Rtc="rtc"}(Bt||(Bt={}));var un,ln,dn=Object(H.f)(),mn=Object(A.a)([function(e){return e.messages}],(function(e){return e.byId})),fn=function(e){var t=e.message;switch(t.type){case Bt.Text:return a.a.createElement(sn,{message:t});default:R()(!1,'No component available for displaying message of type "'.concat(t.type,'"'))}},pn=function(e){var t=e.messageFragment,n=e.avatar,r=Object(g.b)(),o=t.sender,i=Object(g.c)(K),c=!1;if(t.sender&&t.sender.id){var s=i[t.sender.id];c=void 0!==s}return a.a.createElement(en,null,a.a.createElement(rn,null,n),a.a.createElement(tn,null,a.a.createElement(nn,null,a.a.createElement(an,{showDetails:c,onClick:function(){c&&(r(Me(t.sender.id)),r(Ue()))}},o.name),a.a.createElement(on,null,function(e){var t=new Date(parseInt(e)/1e4),n=t.getMinutes();return"".concat(t.getHours(),":").concat(n>9?n:"0"+n)}(t.timetoken))),a.a.createElement(fn,{message:t.message})))},hn=s.d.div.withConfig({displayName:"MessageListstyle__Wrapper",componentId:"w5jskt-0"})(["display:flex;flex-grow:1;flex-direction:column;overflow-y:scroll;height:100%;"]),bn=function(){var e=Object(g.c)(V),t=function(e){return{sender:{id:"PUBNUB-BOT",name:"PubNub Bot"},timetoken:"15735897955841496",message:{type:Bt.Text,senderId:"PUBNUB-BOT",text:"Welcome to Team Chat. \ud83d\udc4b\ud83d\udc4b \nWe logged you in as ".concat((t=e,t.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")),". \nSend a message now to start interacting with other users in the app. \u2b07\ufe0f")}};var t}(Object(g.c)(K)[e].name);return a.a.createElement(pn,{messageFragment:t,key:t.timetoken,avatar:a.a.createElement(Ae,{size:36,name:"P N",userId:t.sender.id,color:"#DE2440"})})},gn=Object(A.a)([mn,le,K],(function(e,t,n){return e[t]?Object.values(e[t]).filter((function(e){return e.channel===t})).map((function(e){return Object(k.a)(Object(k.a)({},e),{},{timetoken:String(e.timetoken),sender:n[e.message.senderId]||(e.message.senderId?{id:e.message.senderId,name:e.message.senderId}:{id:"unknown",name:"unknown"})})})):[]})),yn=function(){var e=Object(g.c)(le),t=Object(r.useState)({}),n=Object(b.a)(t,2),o=n[0],i=n[1],c=Object(r.useCallback)((function(e){var t=o[e];t&&u.current.scrollTo(0,t)}),[e]),s=Object(g.c)(gn),u=Object(r.useRef)(document.createElement("div")),l=u.current,d=Object(r.useCallback)((function(){return l.scrollTop=l.scrollHeight-l.clientHeight}),[l]),m=l.scrollHeight-l.clientHeight===l.scrollTop;return Object(r.useEffect)((function(){m&&d()}),[s.length,m,d]),Object(r.useEffect)((function(){c(e)}),[c,e]),a.a.createElement(hn,{ref:u,onScroll:function(t){var n=t.target.scrollTop;0!==n&&function(t){i(Object(k.a)(Object(k.a)({},o),{},Object(Xt.a)({},e,t)))}(n)}},a.a.createElement(bn,null),s.map((function(e){return a.a.createElement(pn,{messageFragment:e,key:e.timetoken,avatar:a.a.createElement(Ae,{size:36,name:e.sender.name,userId:e.sender.id})})})))},En=n(76),_n=n(75),vn={messageDraftById:{}},Cn=Object(A.a)([function(e){return e.drafts}],(function(e){return e.messageDraftById})),In=function(e){return function(t,n){var r=n();return t(Object(H.v)({channel:le(r),message:{type:e}}))}},On=(n(50),function(e,t){return e&&e.current&&e.current.contains(t.target)}),Nn=function(e,t){var n=Object(r.useCallback)((function(n){if("length"in e){if(r=function(e){return On(e,n)},e.reduce((function(e,t){return e||r(t)}),!1))return}else if(On(e,n))return;var r;t()}),[t,e]);return Object(r.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[n]),e},xn=n(21),wn=function(e){var t=e.title,n=Object(r.useContext)(s.a);return a.a.createElement("svg",{width:18,height:18},a.a.createElement("title",null,t),a.a.createElement("g",{fill:n.colors.importantText,fillRule:"evenodd"},a.a.createElement("path",{d:"M9 .947C4.56.947.947 4.56.947 9c0 4.441 3.613 8.053 8.053 8.053 4.44 0 8.053-3.612 8.053-8.053C17.053 4.56 13.44.947 9 .947M9 18a8.943 8.943 0 01-6.364-2.636A8.937 8.937 0 010 9.001c0-2.404.936-4.664 2.636-6.364A8.939 8.939 0 019 0a8.94 8.94 0 016.364 2.637A8.94 8.94 0 0118 9a8.94 8.94 0 01-2.636 6.363A8.942 8.942 0 019 18"}),a.a.createElement("path",{d:"M13.957 6.632h-3.282a1.877 1.877 0 01-.217-1.32l.003-.01c.04-.199.112-.389.215-.565h3.282c.167.287.253.61.253.947 0 .337-.087.66-.253.948zm-6.631 0H4.043a1.877 1.877 0 01-.253-.948c0-.336.087-.661.253-.947h3.283c.102.176.174.366.215.564l.003.012a1.886 1.886 0 01-.217 1.319h-.001zm7.263-2.654a.473.473 0 00-.379-.19h-3.789a.475.475 0 00-.379.19 2.833 2.833 0 00-.406.758h-1.27a2.841 2.841 0 00-.408-.759.473.473 0 00-.38-.19H3.79a.475.475 0 00-.379.19 2.817 2.817 0 00-.568 1.706c0 .622.197 1.211.568 1.706.09.12.23.19.38.19h3.789c.149 0 .289-.07.379-.19a2.816 2.816 0 00.568-1.705h.948c0 .62.197 1.21.568 1.706.09.12.23.19.379.19h3.79c.148 0 .288-.07.378-.19a2.816 2.816 0 00.569-1.705c0-.62-.197-1.21-.569-1.706v-.001zM9 15.158a6.162 6.162 0 01-6.074-5.133.474.474 0 01.935-.157 5.192 5.192 0 005.138 4.342c.916 0 1.817-.241 2.605-.698a.474.474 0 01.475.82A6.158 6.158 0 019 15.156v.002z"})))},jn=s.d.div.withConfig({displayName:"EmojiInputstyle__Wrapper",componentId:"sc-2q6xsd-0"})(["align-self:flex-end;"]),Dn=s.d.div.withConfig({displayName:"EmojiInputstyle__Dialog",componentId:"sc-2q6xsd-1"})(["position:absolute;bottom:0;right:0;"]),Ln=s.d.div.withConfig({displayName:"EmojiInputstyle__EmojiButton",componentId:"sc-2q6xsd-2"})(["cursor:pointer;svg{vertical-align:top;}"]),Tn=function(e){var t=e.value,n=e.onSelection,o=Object(r.useState)(!1),i=Object(b.a)(o,2),c=i[0],u=i[1],l=Object(r.useRef)(null),d=Object(r.useContext)(s.a),m=Object(r.useCallback)((function(){u(!1)}),[u]);Nn([l],m);return a.a.createElement(jn,{ref:l},a.a.createElement(Dn,null,c&&a.a.createElement(xn.a,{emoji:"",title:"",native:!0,onSelect:function(e){"native"in e&&(n("".concat(t).concat(e.native)),m())},darkMode:d.custom.dark,color:d.colors.active})),a.a.createElement(Ln,{onClick:function(){u(!c)}},a.a.createElement(wn,{title:"Open emoji selector"})))},Sn=s.d.div.withConfig({displayName:"EmojiSuggestionstyle__Popup",componentId:"sc-31hpud-0"})(["position:relative;"]),zn=s.d.section.withConfig({displayName:"EmojiSuggestionstyle__Suggestions",componentId:"sc-31hpud-1"})(["position:absolute;bottom:0;overflow-y:scroll;z-index:100;max-height:",";border:",";border-radius:",";color:",";"],(function(e){return e.theme.sizes[4]}),(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.borderLight)}),(function(e){return e.theme.radii.light}),(function(e){return e.theme.colors.importantText})),kn=s.d.div.withConfig({displayName:"EmojiSuggestionstyle__Heading",componentId:"sc-31hpud-2"})(["border-top-left-radius:",";border-top-right-radius:",";border-bottom:",";padding:",";font-size:",";background:",";"],(function(e){return e.theme.radii.light}),(function(e){return e.theme.radii.light}),(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.borderLight)}),(function(e){return e.theme.space[1]}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.backgrounds.panel})),An=s.d.span.withConfig({displayName:"EmojiSuggestionstyle__EmojiSearchTerm",componentId:"sc-31hpud-3"})(["font-weight:",";"],(function(e){return e.theme.fontWeights.bold})),Mn=s.d.div.withConfig({displayName:"EmojiSuggestionstyle__Results",componentId:"sc-31hpud-4"})(["display:flex;flex-direction:row;flex-wrap:wrap;border-bottom-left-radius:",";border-bottom-right-radius:",";padding:",";background:",";","{flex-direction:column;flex-wrap:nowrap;}"],(function(e){return e.theme.radii.light}),(function(e){return e.theme.radii.light}),(function(e){return e.theme.space[1]}),(function(e){return e.theme.backgrounds.panel}),(function(e){return e.theme.mediaQueries.medium})),Rn=s.d.span.withConfig({displayName:"EmojiSuggestionstyle__Result",componentId:"sc-31hpud-5"})(["cursor:pointer;flex-grow:0;border-radius:",";padding:",";font-size:",";&:hover{background-color:",";color:",";}","{padding:",";flex-grow:1;}"],(function(e){return e.theme.radii.light}),(function(e){var t=e.theme;return"".concat(t.space[1]," ").concat(t.space[2])}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.colors.active}),(function(e){return e.theme.colors.activeText}),(function(e){return e.theme.mediaQueries.medium}),(function(e){return e.theme.space[2]})),Wn=s.d.span.withConfig({displayName:"EmojiSuggestionstyle__Emoji",componentId:"sc-31hpud-6"})(["font-size:",";"],(function(e){return e.theme.fontSizes.regular})),Un=s.d.span.withConfig({displayName:"EmojiSuggestionstyle__Colons",componentId:"sc-31hpud-7"})(["padding-right:0.5em;font-size:",";"],(function(e){return e.theme.fontSizes.small})),Vn=function(e){var t=e.value,n=e.onSelection,o=Object(r.useRef)(null),i=Oe(Object(r.useContext)(s.a).mediaQueries.medium),c=!1,u=function(e){var t="",n=e.match(/:([a-z_]+)(:)?/);if(n)if(void 0!==n[2]){var r=xn.b.emojis[n[1]];if(r&&"native"in r)e=e.replace(n[0],r.native),t="";else{var a=xn.b.search(n[1]);a[0]&&"native"in a[0]&&(e=e.replace(n[0],a[0].native)),t=""}}else n[1].length>1?t=n[1]:n[1]&&(t="");return t}(t),l=function(e){return xn.b.search(e)}(u);return c=""!==u&&l.length>0,Nn([o],(function(){c=!1})),a.a.createElement(Sn,null,c&&a.a.createElement(zn,{ref:o},a.a.createElement(kn,null,"Suggestions for ",a.a.createElement(An,null,u)),a.a.createElement(Mn,null,l.slice(0,i?35:7).map((function(e){return a.a.createElement(Rn,{key:e.id,onClick:function(){return function(e,r){if("native"in r){var a=t.replace(":".concat(e),r.native);n(a)}}(u,e)}},a.a.createElement(Wn,null,"native"in e&&e.native),a.a.createElement(Un,null,e.colons))})))))},Pn=s.d.div.withConfig({displayName:"TextMessageEditorstyle__Wrapper",componentId:"sc-1n194zj-0"})(["flex-grow:1;"]),Gn=s.d.div.withConfig({displayName:"TextMessageEditorstyle__Container",componentId:"sc-1n194zj-1"})(["display:flex;align-items:center;height:auto;"]),Hn=s.d.textarea.withConfig({displayName:"TextMessageEditorstyle__TextArea",componentId:"sc-1n194zj-2"})(["flex-grow:1;resize:none;overflow:auto;border:",";max-height:",";padding:",";font-size:",";font-family:",";font-weight:",";color:",";background:",";&::placeholder{color:",";}&:focus{outline:none;}"],(function(e){return e.theme.borders.none}),(function(e){return e.theme.sizes[4]}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.fontSizes.messageTextInput}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.colors.importantText}),(function(e){return e.theme.backgrounds.content}),(function(e){return e.theme.colors.normalText})),qn=s.d.div.withConfig({displayName:"TextMessageEditorstyle__SendButton",componentId:"sc-1n194zj-3"})(["align-self:flex-end;display:none;padding:",";margin:",";margin-left:",";border-radius:",";background-color:",";","{display:flex;}"],(function(e){return e.theme.space[1]}),(function(e){var t=e.theme;return"-".concat(t.space[1])}),(function(e){return e.theme.space[1]}),(function(e){return e.theme.radii.light}),(function(e){return e.theme.colors.primary[0]}),(function(e){return e.theme.mediaQueries.touch})),Bn=function(e){switch(e.type){case Bt.Text:return""!==e.text;default:R()(!1,'Cannot determin if message of type "'.concat(e.type,'" has been modified.'))}},Fn=function(e){var t=e.title,n=Object(r.useContext)(s.a);return a.a.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18"},a.a.createElement("title",null,t),a.a.createElement("path",{fill:"none",stroke:n.colors.onPrimary,strokeMiterlimit:10,d:"M.53,13.46V11.31c0-.74.29-1.1,1-1.15,2.17-.17,4.33-.31,6.5-.46l1.16-.11a.68.68,0,0,0,.67-.67.63.63,0,0,0-.55-.73c-1-.1-2-.16-3-.24L1.45,7.59a.84.84,0,0,1-.88-.82,40.83,40.83,0,0,1,0-5.07,1.36,1.36,0,0,1,2.07-1c2.5,1.26,5,2.54,7.48,3.82l6.14,3.14c.52.26,1,.59,1,1.23s-.45,1-1,1.26Q9.53,13.57,2.8,17A1.46,1.46,0,0,1,.53,15.64C.52,14.91.53,14.19.53,13.46Z"}))},Qn=function(e){setTimeout((function(){e.style.cssText="height:auto; padding:0",e.style.cssText="height:"+e.scrollHeight+"px"}),0)},Jn=function(e,t){return e.text===t?e:{type:Bt.Text,senderId:e.senderId,text:t}},Yn=function(e){var t=e.message,n=e.sendDraft,o=e.updateDraft,i=Oe(Object(r.useContext)(s.a).mediaQueries.touch),c=t.text,u=Object(r.useRef)(document.createElement("textarea")),l=function(e){o(Jn(t,e)),u.current.focus()};return Object(r.useEffect)((function(){Qn(u.current)}),[u]),a.a.createElement(Pn,null,a.a.createElement(Vn,{value:c,onSelection:l}),a.a.createElement(Gn,null,a.a.createElement(Hn,{ref:u,rows:1,value:c,onChange:function(e){o(Jn(t,e.target.value))},onKeyPress:function(e){if("Enter"===e.key&&!e.shiftKey&&!i){var r=Jn(t,c);Bn(r)&&n(r),e.preventDefault()}Qn(e.target)},placeholder:"Type Message"}),a.a.createElement(Tn,{value:c,onSelection:l}),a.a.createElement(qn,{onClick:function(){return Bn(t)&&n(t)}},a.a.createElement(Fn,{title:"Send Message"}))))},Kn=s.d.div.withConfig({displayName:"MessageEditorstyle__Wrapper",componentId:"zjr6z-0"})(["display:flex;align-items:flex-end;position:relative;bottom:0;border-radius:",";border:",";padding:",";"],(function(e){return e.theme.radii.messageEditor}),(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.borderDark)}),(function(e){return e.theme.space[2]})),Zn=function(e){var t=e.message,n=e.sendDraft,r=e.updateDraft;switch(t.type){case Bt.Text:return a.a.createElement(Kn,null,a.a.createElement(Yn,{message:t,sendDraft:n,updateDraft:r}));default:R()(!1,'No editor available for draft message of type "'.concat(t.type,'"'))}},$n=s.d.div.withConfig({displayName:"MessageInputstyle__Wrapper",componentId:"sc-18oi0lf-0"})(["left:",";right:",";bottom:",";margin:",";margin-top:",";margin-bottom:",";"],(function(e){return e.theme.space[5]}),(function(e){return e.theme.space[5]}),(function(e){return e.theme.space[5]}),(function(e){return e.theme.space[6]}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.space[3]}));!function(e){e.ShowTypingIndicator="ti_show",e.HideTypingIndicator="ti_hide"}(un||(un={})),function(e){e.REMOVE_TYPING_INDICATOR="REMOVE_TYPING_INDICATOR",e.REMOVE_TYPING_INDICATOR_ALL="REMOVE_TYPING_INDICATOR_ALL"}(ln||(ln={}));var Xn,er=Object(H.j)(),tr={byId:{}},nr=function(e,t,n,r){var a={byId:Object(k.a)({},e.byId)};return a.byId[t]&&(a.byId[t]=a.byId[t].filter((function(e){return r?!(e.publisher===n&&e.timetoken===r):!(e.publisher===n)}))),a},rr=Object(A.a)([function(e){return e.typingIndicators}],(function(e){return e.byId})),ar=function(e){return{type:ln.REMOVE_TYPING_INDICATOR_ALL,payload:e}},or=function(e){return{signal:function(t){t.message.type===un.ShowTypingIndicator?setTimeout((function(){e(function(e){return{type:ln.REMOVE_TYPING_INDICATOR,payload:e}}({userId:t.publisher,channel:t.channel,timetoken:t.timetoken}))}),1e4):t.message.type===un.HideTypingIndicator&&e(ar({userId:t.publisher,channel:t.channel}))},presence:function(t){t.action!==H.b.LEAVE&&t.action!==H.b.TIMEOUT||e(ar({userId:t.uuid,channel:t.channel}))}}},ir={},cr=Object(A.a)([Cn,le],(function(e,t){return e[t]})),sr=function(){var e=Object(g.c)(le),t=Object(g.c)(V),n=Object(g.c)(cr),r={type:Bt.Text,senderId:t,text:""},o=n||r,i=Object(g.b)();return a.a.createElement($n,null,a.a.createElement(Zn,{message:o,sendDraft:function(t){i(function(e){return function(t,n){var r=n();return t(Object(H.u)({channel:le(r),message:e}))}}(t)),i(function(e){return function(t){return t({type:"MESSAGE_DRAFT_DISCARDED",payload:{conversationId:e}})}}(e)),ir[e]=!1},updateDraft:function(t){i(function(e,t){return function(n){return n({type:"MESSAGE_DRAFT_UPDATED",payload:{conversationId:e,value:t}})}}(e,t)),t.text.length>0?ir[e]||(ir[e]=!0,i(In(un.ShowTypingIndicator)),setTimeout((function(){ir[e]=!1}),9e3)):ir[e]&&(ir[e]=!1,i(In(un.HideTypingIndicator)))}}))},ur=s.d.div.withConfig({displayName:"TypingIndicatorDisplaystyle__Wrapper",componentId:"sc-1s4xbtn-0"})(["padding-left:",";padding-bottom:",";font-size:",";font-family:",";font-weight:",";color:",";"],(function(e){return e.theme.space[6]}),(function(e){return e.theme.space[1]}),(function(e){return e.theme.fontSizes.small}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.colors.importantText})),lr=Object(A.a)([rr,le,K,V],(function(e,t,n,r){return e[t]?Object.values(Object.values(e[t]||[]).filter((function(e){return e.channel===t&&e.publisher!==r})).reduce((function(e,t){return e[t.publisher]=t,e}),{})).filter((function(e){return Date.now()-e.timetoken/1e4<1e4})).map((function(e){return Object(k.a)(Object(k.a)({},e),{},{timetoken:String(e.timetoken),sender:n[e.publisher||""]||(e.publisher?{id:e.publisher,name:e.publisher}:{id:"unknown",name:"unknown"})})})):[]})),dr=function(){var e=Object(g.c)(lr);return 0===e.length?a.a.createElement(ur,null,"\xa0"):1===e.length?a.a.createElement(ur,null,e[0].sender.name," is typing ..."):a.a.createElement(ur,null,"Multiple users typing ...")},mr=function(){var e=Object(g.c)(oe);return a.a.createElement(Zt,{animate:e.CurrentConversation?"open":"closed",variants:$t},a.a.createElement(xt,null),a.a.createElement(yn,null),a.a.createElement(sr,null),a.a.createElement(dr,null))},fr=s.d.div.withConfig({displayName:"ConversationDescriptionstyle__Wrapper",componentId:"sc-1roh2qq-0"})(["cursor:pointer;display:flex;justify-content:center;flex-direction:column;min-height:",";font-family:",";font-weight:",";font-size:",";text-transform:capitalize;color:",";:hover{background:",";}"],(function(e){return e.theme.sizes[3]}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.colors.importantText}),(function(e){return e.theme.backgrounds.contentHover})),pr=s.d.div.withConfig({displayName:"ConversationDescriptionstyle__Body",componentId:"sc-1roh2qq-1"})(["display:flex;max-height:",";padding:",";"],(function(e){return e.theme.sizes[1]}),(function(e){var t=e.theme;return"".concat(t.space[0]," ").concat(t.space[1])})),hr=s.d.div.withConfig({displayName:"ConversationDescriptionstyle__Name",componentId:"sc-1roh2qq-2"})(["text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"]),br=s.d.div.withConfig({displayName:"ConversationDescriptionstyle__Description",componentId:"sc-1roh2qq-3"})(["color:",";"],(function(e){return e.theme.colors.normalText})),gr=s.d.div.withConfig({displayName:"ConversationDescriptionstyle__Content",componentId:"sc-1roh2qq-4"})(["display:flex;flex-direction:column;padding-left:",";justify-content:space-between;"],(function(e){return e.theme.space[5]})),yr=(s.d.div.withConfig({displayName:"ConversationDescriptionstyle__IconWrapper",componentId:"sc-1roh2qq-5"})(["padding:",";"],(function(e){var t=e.theme;return"".concat(t.space[4]," ").concat(t.space[0])})),s.d.div.withConfig({displayName:"ConversationDescriptionstyle__ConversationIcon",componentId:"sc-1roh2qq-6"})(["border-radius:",";width:",";height:",";line-height:",";text-align:center;font-family:",";font-weight:",";font-size:",";color:",";background:",";"],(function(e){return e.theme.radii.medium}),(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.sizes[1]}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.medium}),(function(e){return e.theme.fontSizes.regular}),(function(e){return e.theme.colors.onPrimary}),(function(e){return e.color}))),Er=function(e){var t=e.conversation,n=e.onClick,o=Object(r.useContext)(s.a),i=Ie(t.name,o.colors.avatars);return a.a.createElement(fr,{onClick:n},a.a.createElement(pr,null,a.a.createElement(yr,{color:i},"#"),a.a.createElement(gr,null,a.a.createElement(hr,null,t.name),a.a.createElement(br,null,t.description))))},_r=s.d.section.withConfig({displayName:"JoinConversationDialogstyle__ScrollView",componentId:"sc-1t63ow4-0"})(["text-align:left;overflow-y:scroll;> div{border-top:",";border-bottom:",";}"],(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.neutral[1])}),(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.neutral[1])})),vr=s.d.div.withConfig({displayName:"JoinConversationDialogstyle__CloseButton",componentId:"sc-1t63ow4-1"})(["cursor:pointer;color:",";","{}"],(function(e){return e.theme.colors.normalText}),(function(e){return e.theme.mediaQueries.medium})),Cr=s.d.div.withConfig({displayName:"JoinConversationDialogstyle__Header",componentId:"sc-1t63ow4-2"})(["display:flex;justify-content:space-between;padding:",";","{padding:",";padding-bottom:",";}"],(function(e){var t=e.theme;return"".concat(t.space[8]," ").concat(t.space[3])}),(function(e){return e.theme.mediaQueries.medium}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.space[8]})),Ir=s.d.div.withConfig({displayName:"JoinConversationDialogstyle__Title",componentId:"sc-1t63ow4-3"})(["font-size:",";font-weight:",";text-align:left;color:",";"],(function(e){return e.theme.fontSizes.large}),(function(e){return e.theme.fontWeights.bold}),(function(e){return e.theme.colors.importantText})),Or=s.d.div.withConfig({displayName:"Modal__Overlay",componentId:"j583yf-0"})(["position:fixed;top:0;left:0;right:0;bottom:0;display:",";z-index:200;width:100%;height:100%;background:",";","{padding:10% 15%;background-color:rgba(0,0,0,0.5);}","{padding:10% 25%;}"],(function(e){return e.displayed?"flex":"none"}),(function(e){return e.theme.backgrounds.panel}),(function(e){return e.theme.mediaQueries.medium}),(function(e){return e.theme.mediaQueries.large})),Nr=Object(s.d)($e.a.section).withConfig({displayName:"Modal",componentId:"j583yf-1"})(["z-index:300;box-shadow:",";border-radius:",";width:100%;height:100%;padding:",";text-align:center;flex-direction:column;overflow:auto;background:",";","{border-radius:",";padding:",";}"],(function(e){return e.theme.shadows[1]}),(function(e){return e.theme.radii.square}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.backgrounds.panel}),(function(e){return e.theme.mediaQueries.medium}),(function(e){return e.theme.radii.strong}),(function(e){return e.theme.space[8]})),xr=function(e){return{open:{y:"0%",display:"flex"},closed:{y:e?"-200%":"50%",transitionEnd:{display:"none"}}}},wr=Object(A.a)([pe,V,q],(function(e,t,n){return e.filter((function(e){return!n[t].map((function(e){return e.id})).includes(e.id)}))})),jr=function(){var e=Object(g.c)(wr),t=Object(g.c)(oe),n=Object(g.c)(V),o=Object(g.b)(),i=Object(r.useContext)(s.a),c=Oe(i.mediaQueries.medium);return a.a.createElement(Or,{displayed:t.JoinConversation},a.a.createElement(Nr,{animate:t.JoinConversation?"open":"closed",variants:xr(c)},a.a.createElement(Cr,null,a.a.createElement(Ir,null,"Join a Conversation"),a.a.createElement(vr,{onClick:function(){o(Ge())}},a.a.createElement(Ze,{color:i.colors.normalText,title:"close"}))),a.a.createElement(_r,null,e.map((function(e){return a.a.createElement(Er,{key:"conversationDescription-".concat(e.id),onClick:function(){var t=e.id;o(function(e,t){return function(n,r,a){return n(Object(H.s)({userId:e,spaces:[{id:t}]})).then((function(){a.pubnub.api.subscribe({channels:[t],withPresence:!0}),n(se(t))}))}}(n,t)),o(Ge())},conversation:e})})))))},Dr=s.d.span.withConfig({displayName:"UserDetailDialogstyle__UserName",componentId:"sc-1a556pd-0"})(["padding-right:",";"],(function(e){return e.theme.space[1]})),Lr=(s.d.section.withConfig({displayName:"UserDetailDialogstyle__ScrollView",componentId:"sc-1a556pd-1"})(["text-align:left;overflow-y:scroll;> div{border-top:",";border-bottom:",";}"],(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.neutral[1])}),(function(e){var t=e.theme;return"".concat(t.borders.light," ").concat(t.colors.neutral[1])})),s.d.div.withConfig({displayName:"UserDetailDialogstyle__CloseButton",componentId:"sc-1a556pd-2"})(["cursor:pointer;color:",";","{}"],(function(e){return e.theme.colors.normalText}),(function(e){return e.theme.mediaQueries.medium}))),Tr=s.d.div.withConfig({displayName:"UserDetailDialogstyle__Header",componentId:"sc-1a556pd-3"})(["display:flex;justify-content:space-between;padding:",";","{padding:",";padding-bottom:",";}"],(function(e){var t=e.theme;return"".concat(t.space[8]," ").concat(t.space[3])}),(function(e){return e.theme.mediaQueries.medium}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.space[8]})),Sr=s.d.div.withConfig({displayName:"UserDetailDialogstyle__Title",componentId:"sc-1a556pd-4"})(["padding:10px;display:flex;align-items:center;background:",";color:",";font-size:",";font-family:",";font-weight:",";text-align:left;"],(function(e){return e.theme.backgrounds.primary}),(function(e){return e.theme.colors.onPrimary}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.medium})),zr=s.d.div.withConfig({displayName:"UserDetailDialogstyle__Call",componentId:"sc-1a556pd-5"})(["cursor:pointer;color:",";background:",";border-radius:5px;border:1px solid #9b9b9b;padding:12px;"],(function(e){var t=e.theme;return e.isConnected?t.colors.primary[0]:t.colors.neutral[3]}),(function(e){var t=e.theme;return e.isConnected?t.colors.neutral[1]:t.colors.neutral[4]}));!function(e){e.NONE="NONE",e.DIALING="DIALING",e.RECEIVING_CALL="RECEIVING_CALL",e.ACCEPTED="ACCEPTED",e.MISSED_CALL="MISSED_CALL",e.CALL_NOT_ANSWERED="CALL_NOT_ANSWERED",e.OUTGOING_CALL_REJECTED="OUTGOING_CALL_REJECTED",e.INCOMING_CALL_REJECTED="INCOMING_CALL_REJECTED",e.OUTGOING_CALL_CONNECTED="OUTGOING_CALL_CONNECTED",e.INCOMING_CALL_CONNECTED="INCOMING_CALL_CONNECTED",e.OUTGOING_CALL_COMPLETED="OUTGOING_CALL_COMPLETED",e.INCOMING_CALL_COMPLETED="INCOMING_CALL_COMPLETED"}(Xn||(Xn={}));var kr={currentCall:{callState:Xn.NONE,peerUserId:"",startTime:0},lastIncomingCall:{callState:Xn.NONE,peerUserId:"",startTime:0},callLog:[]},Ar=function(e){return{type:"CALL_CONNECTED",payload:{status:e}}},Mr=function(e,t){return{type:"CALL_COMPLETED",payload:{status:e,endTime:t}}},Rr=function(e){return e.rtc},Wr=Object(A.a)(Rr,(function(e){return e.currentCall})),Ur=Object(A.a)(Rr,(function(e){return e.lastIncomingCall})),Vr=function(){var e=Object(g.b)(),t=Object(g.c)(oe),n=Object(r.useContext)(s.a),o=Oe(n.mediaQueries.medium),i=Object(g.c)(V),c=Object(g.c)(We),u=Object(g.c)(K),l=Object(g.c)(le),d=Object(g.c)(ze),f=u[c],p=f?f.name:"",h=d[l],b=h&&h.occupants.filter((function(e){return e.uuid===c})).length>0;return a.a.createElement(Or,{displayed:t.UserDetail},a.a.createElement(Nr,{animate:t.UserDetail?"open":"closed",variants:xr(o)},a.a.createElement(Tr,null,a.a.createElement(Sr,null,a.a.createElement(Dr,null,p),b&&a.a.createElement(Mt,{size:7,title:b?"connected":"not connected",active:b})),a.a.createElement(Lr,{onClick:function(){e({type:m.USER_DETAIL_VIEW_HIDDEN})}},a.a.createElement(Ze,{color:n.colors.normalText,title:"close"}))),i!==c&&a.a.createElement(zr,{isConnected:b,onClick:function(){var t,n;e((t=f.id,n=(new Date).getTime(),{type:"CALL_SIGNAL_SENT",payload:{userId:t,startTime:n}})),e(Ve())}},"Initiate a call",b||" ("+p+" may not be online)"),i===c&&a.a.createElement("div",null,"My Profile")))},Pr=n(9),Gr=n.n(Pr),Hr=n(16),qr=s.d.div.withConfig({displayName:"RtcDisplaystyle__Wrapper",componentId:"wa7rhr-0"})(["z-index:1000;position:fixed;background:black;color:white;line-height:normal;display:",";flex-direction:column;"],(function(e){e.theme;return e.displayed?"flex":"none"})),Br=s.d.div.withConfig({displayName:"RtcDisplaystyle__VideoWrapper",componentId:"wa7rhr-1"})(["resize:both;overflow:auto;width:100%;height:100%;& video{margin:-2px;padding:2px;width:100%;height:100%;}"]),Fr=s.d.div.withConfig({displayName:"RtcDisplaystyle__CloseButton",componentId:"wa7rhr-2"})(["margin-top:2px;margin-right:2px;cursor:pointer;color:",";"],(function(e){return e.theme.colors.normalText})),Qr=s.d.div.withConfig({displayName:"RtcDisplaystyle__Header",componentId:"wa7rhr-3"})(["display:flex;justify-content:space-between;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:",";"],(function(e){return e.theme.colors.neutral[3]})),Jr=s.d.div.withConfig({displayName:"RtcDisplaystyle__Body",componentId:"wa7rhr-4"})([""]),Yr=s.d.div.withConfig({displayName:"RtcDisplaystyle__Title",componentId:"wa7rhr-5"})(["padding-left:10px;padding-right:10px;display:flex;align-items:center;background:",";color:",";font-size:",";font-family:",";font-weight:",";text-align:left;"],(function(e){return e.theme.backgrounds.primary}),(function(e){return e.theme.colors.onPrimary}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.fonts.app}),(function(e){return e.theme.fontWeights.medium})),Kr=n(47),Zr=(Kr.rtcIceConfig,Kr.rtcDialingTimeoutSeconds,Object(A.a)([mn,V,K],(function(e,t,n){var r=e[t]?Object.values(e[t]).filter((function(e){return e.channel===t})).map((function(e){return Object(k.a)(Object(k.a)({},e.message),{},{timetoken:String(e.timetoken),sender:n[e.message.senderId]||(e.message.senderId?{id:e.message.senderId,name:e.message.senderId}:{id:"unknown",name:"unknown"})})})):[];return r.length>0?r[r.length-1]:void 0}))),$r=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(!1),c=Object(b.a)(i,2),u=c[0],l=c[1],d=Object(r.useState)(!1),f=Object(b.a)(d,2),p=f[0],h=f[1],y=Object(r.useState)(!1),E=Object(b.a)(y,2),_=(E[0],E[1]),v=Object(r.useState)(!1),C=Object(b.a)(v,2),I=C[0],O=C[1],N=Object(g.b)(),x=Object(g.c)(Wr),w=Object(g.c)(Ur),j=Object(g.c)(Zr),D=Object(g.c)(oe),L=Object(g.c)(V),T=Object(r.useContext)(s.a),S=function(){document.querySelector("#myvideo").srcObject&&document.querySelector("#myvideo").srcObject.getTracks().forEach((function(e){e.stop()})),document.querySelector("#myvideo").srcObject=void 0,o(!1)},z=function(){document.querySelector("#myaudio").srcObject&&document.querySelector("#myaudio").srcObject.getTracks().forEach((function(e){e.stop()})),document.querySelector("#myaudio").srcObject=void 0,l(!1)},k=function(){S(),z()},A=function(){var e=Object(Hr.a)(Gr.a.mark((function e(t){var n;return Gr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia(t);case 2:n=e.sent,z(),document.querySelector("#myvideo").srcObject=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(Hr.a)(Gr.a.mark((function e(t){var n;return Gr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=navigator.mediaDevices.getUserMedia(t),S(),document.querySelector("#myaudio").srcObject=n;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){e.video?A(e):e.audio?M(e):k()};Object(r.useEffect)((function(){var e=function(){var e=Object(Hr.a)(Gr.a.mark((function e(){return Gr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("calling "+x.peerUserId),h(!0),N(Object(H.u)({channel:x.peerUserId,message:{type:Bt.Rtc,callState:Xn.DIALING,startTime:x.startTime,senderId:L}}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(Hr.a)(Gr.a.mark((function e(){return Gr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("receiving"),N((t=j.sender.id,n=j.startTime,{type:"CALL_SIGNAL_RECEIVED",payload:{userId:t,startTime:n}})),N(Ve());case 3:case"end":return e.stop()}var t,n}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(Hr.a)(Gr.a.mark((function e(){return Gr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("outgoing call accepted"),O(!0),N(Ar(Xn.OUTGOING_CALL_CONNECTED));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(Hr.a)(Gr.a.mark((function e(t,n){return Gr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("peer ended"),h(!1),N(Mr(t,n));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();p||x.callState!==Xn.DIALING?!j||w.callState!==Xn.NONE&&w.startTime===j.startTime||j.type!==Bt.Rtc||j.callState!==Xn.DIALING?p&&!I&&j&&j.startTime===x.startTime&&j.type===Bt.Rtc&&j.callState===Xn.OUTGOING_CALL_CONNECTED?n():x.callState!==Xn.OUTGOING_CALL_CONNECTED&&x.callState!==Xn.INCOMING_CALL_CONNECTED||!j||j.startTime!==x.startTime||j.type!==Bt.Rtc||j.callState!==Xn.OUTGOING_CALL_COMPLETED&&j.callState!==Xn.INCOMING_CALL_COMPLETED||r(j.callState,(new Date).getTime()):t():e()}));var W=function(){k(),N({type:m.RTC_VIEW_HIDDEN}),h(!1),_(!1),O(!1)};return a.a.createElement(qr,{displayed:D.Rtc},a.a.createElement(Qr,null,a.a.createElement(Yr,null,"Call"),a.a.createElement(Fr,{onClick:function(){W()}},a.a.createElement(Ze,{color:T.colors.normalText,title:"close"}))),a.a.createElement(Jr,null,a.a.createElement("button",{onClick:function(){R({audio:u,video:!n}),o(!n)}},"Video (",n?"on":"off",")"),a.a.createElement("button",{onClick:function(){R({audio:!u,video:n}),l(!u)}},"Audio (",u?"on":"off",")"),(x.callState===Xn.OUTGOING_CALL_CONNECTED||x.callState===Xn.INCOMING_CALL_CONNECTED)&&a.a.createElement("button",{onClick:function(){console.log("end call"),N(Object(H.u)({channel:x.peerUserId,message:{type:Bt.Rtc,callState:p?Xn.INCOMING_CALL_COMPLETED:Xn.OUTGOING_CALL_COMPLETED,startTime:x.startTime,senderId:L}})),N(Mr(p?Xn.OUTGOING_CALL_COMPLETED:Xn.INCOMING_CALL_COMPLETED,(new Date).getTime())),W()}},"Connected (click to end call)"),a.a.createElement(Br,null,x.callState===Xn.DIALING&&a.a.createElement("div",null,"Dialing ..."),x.callState!==Xn.OUTGOING_CALL_CONNECTED&&x.callState!==Xn.INCOMING_CALL_CONNECTED&&w.callState===Xn.RECEIVING_CALL&&a.a.createElement("div",null,"Receiving Call ...",a.a.createElement("button",{onClick:function(){var e,t;console.log("answer call"),_(!0),N((e=j.sender.id,t=j.startTime,{type:"CALL_ACCEPTED",payload:{userId:e,startTime:t}})),N(Ar(Xn.INCOMING_CALL_CONNECTED)),N(Object(H.u)({channel:j.sender.id,message:{type:Bt.Rtc,callState:Xn.OUTGOING_CALL_CONNECTED,startTime:j.startTime,senderId:L}}))}},"Answer")),w.callState!==Xn.RECEIVING_CALL&&(x.callState===Xn.OUTGOING_CALL_COMPLETED||x.callState===Xn.INCOMING_CALL_COMPLETED)&&a.a.createElement("div",null,"Call Completed"),a.a.createElement("video",{id:"myvideo",autoPlay:!0,playsInline:!0}),a.a.createElement("audio",{id:"myaudio",autoPlay:!0}))))},Xr=function(){return a.a.createElement($,null,a.a.createElement(Kt,null),a.a.createElement(mr,null),a.a.createElement(jt,null),a.a.createElement(jr,null),a.a.createElement(Vr,null),a.a.createElement($r,null))},ea=n(34),ta=function(e){return 0!==e.publishKey.length&&0!==e.subscribeKey.length},na=s.d.div.withConfig({displayName:"ErrorBannerstyle__ErrorBanner",componentId:"sc-1byxyw9-0"})(["text-align:center;justify-content:center;display:flex;padding:",";background-color:",";color:",";"],(function(e){return e.theme.space[3]}),(function(e){return e.theme.colors.error}),(function(e){return e.theme.colors.activeText})),ra=a.a.createElement(na,null,a.a.createElement("div",null,"Please run ",a.a.createElement("pre",null,"npm setup"))),aa=function(){var e=Object(g.c)(P)?a.a.createElement(Xr,null):a.a.createElement(Z,null);return a.a.createElement(h,null,!ta(ea)&&ra,e)},oa=["600px","1200px"],ia={medium:"@media screen and (min-width: ".concat(oa[0],")"),large:"@media screen and (min-width: ".concat(oa[1],")"),touch:"@media (hover: none)"},ca=["0px","11px","13px","15px","20px","16px"],sa={none:ca[0],small:ca[1],regular:ca[2],medium:ca[3],large:ca[4],messageTextInput:ca[5]},ua=[0,300,400,500,700,900],la={none:ua[0],light:ua[1],regular:ua[2],medium:ua[3],bold:ua[4],black:ua[5]},da={error:"#B63133",success:"#62E905",inactive:"#F5A623",primary:["#8E2DE2","#4A00E0"],neutral:["#FFFFFF","#F8F6FD","#F1EDFD","#9B9B9B","#585858"],avatars:["#F7861C","#35B7DF","#DE2440","#1F68EF","#9F34C3"]},ma={onPrimary:da.neutral[0],selectedText:"rgba(0, 0, 0, 0.5)",active:da.primary[0],activeText:da.neutral[0],messageText:da.neutral[4],normalText:da.neutral[3],importantText:da.neutral[4],avatarText:da.neutral[0],borderLight:da.neutral[2],borderDark:da.neutral[3]},fa={primary:"linear-gradient(180deg, ".concat(da.primary[0]," 0%, ").concat(da.primary[1]," 100%)"),primaryHover:"rgba(255, 255, 255, 0.1)",primaryActive:"rgba(0, 0, 0, 0.1)",panel:da.neutral[0],panelHover:da.neutral[1],content:da.neutral[1],contentHover:da.neutral[2],message:da.neutral[0]},pa=["0","5px","10px","100vmax"],ha={square:pa[0],light:pa[1],messageEditor:pa[1],medium:pa[2],strong:pa[2],round:pa[3]},ba=["0","1px","5px"],ga=["solid"],ya=["none","".concat(ba[1]," ").concat(ga[0]),"".concat(ba[2]," ").concat(ga[0])],Ea={none:ya[0],light:ya[1],strong:ya[2]},_a={breakpoints:oa,mediaQueries:ia,fonts:{app:'"Roboto", sans-serif'},fontSizes:Object(k.a)(Object(k.a)({},ca),sa),fontWeights:Object(k.a)(Object(k.a)({},ua),la),colors:Object(k.a)(Object(k.a)({},da),ma),backgrounds:fa,sizes:["0","36px","56px","85px","260px","290px"],space:["0","10px","12px","14px","16px","21px","24px","32px","40px"],radii:Object(k.a)(Object(k.a)({},pa),ha),borderWidths:ba,borderStyles:ga,borders:Object(k.a)(Object(k.a)({},ya),Ea),shadows:["0 6px 10px rgba(103, 19, 176, 0.06)","0 4px 30px rgba(0, 0, 0, 0.4)"],custom:{dark:!1,companyName:"PubNub",tagLine:"World-Class APIs for In-App Chat"}},va=n(73),Ca=n.n(va),Ia=n(74),Oa=Object(H.g)(!1),Na=Object(de.c)({layout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.MENU_VIEW_DISPLAYED:return te(e,f.Menu);case m.MENU_VIEW_HIDDEN:return ne(e,f.Menu);case m.CURRENT_CONVERSATION_VIEW_DISPLAYED:return te(e,f.CurrentConversation);case m.CURRENT_CONVERSATION_VIEW_HIDDEN:return ne(e,f.CurrentConversation);case m.CONVERSATION_MEMBERS_VIEW_DISPLAYED:return te(e,f.ConversationMembers);case m.CONVERSATION_MEMBERS_VIEW_HIDDEN:return ne(e,f.ConversationMembers);case m.JOIN_CONVERSATION_VIEW_DISPLAYED:return te(e,f.JoinConversation);case m.JOIN_CONVERSATION_VIEW_HIDDEN:return ne(e,f.JoinConversation);case m.USER_DETAIL_VIEW_DISPLAYED:return te(e,f.UserDetail);case m.USER_DETAIL_VIEW_HIDDEN:return ne(e,f.UserDetail);case m.RTC_VIEW_DISPLAYED:return te(e,f.Rtc);case m.RTC_VIEW_HIDDEN:return ne(e,f.Rtc)}return e},networkStatus:Oa,users:Y,conversations:me,joinedConversations:B,drafts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MESSAGE_DRAFT_UPDATED":var n=Object(k.a)(Object(k.a)({},e.messageDraftById),{},Object(Xt.a)({},t.payload.conversationId,t.payload.value));return Object(k.a)(Object(k.a)({},e),{},{messageDraftById:n});case"MESSAGE_DRAFT_DISCARDED":var r=e.messageDraftById,a=t.payload.conversationId,o=(r[a],Object(En.a)(r,[a].map(_n.a)));return Object(k.a)(Object(k.a)({},e),{},{messageDraftById:o})}return e},conversationMembers:Te,memberPresence:Se,messages:dn,typingIndicators:function(e,t){switch(t.type){case H.c.SIGNAL_RECEIVED:return t.payload.message.type===un.ShowTypingIndicator?er(e,t):e||tr;case ln.REMOVE_TYPING_INDICATOR:return nr(e,t.payload.channel,t.payload.userId,t.payload.timetoken);case ln.REMOVE_TYPING_INDICATOR_ALL:return nr(e,t.payload.channel,t.payload.userId);case H.a.MESSAGE_RECEIVED:return nr(e,t.payload.channel,t.payload.message.senderId);default:return e||tr}},authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGIN_IN":return Object(k.a)(Object(k.a)({},e),{},{isLoggingIn:!0});case"LOGIN_SUCCEEDED":return Object(k.a)(Object(k.a)({},e),{},{isLoggingIn:!1,loggedInUserId:t.payload.loggedInUserId});default:return e}},currentConversation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOCUS_ON_CONVERSATION":return Object(k.a)(Object(k.a)({},e),{},{currentConversationId:t.payload});default:return e}},userDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_USER":return Object(k.a)(Object(k.a)({},e),{},{selectedUserId:t.payload.selectedUserId});default:return e}},rtc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CALL_SIGNAL_SENT":return Object(k.a)(Object(k.a)({},e),{},{currentCall:{peerUserId:t.payload.userId,callState:Xn.DIALING,startTime:t.payload.startTime}});case"CALL_SIGNAL_RECEIVED":if(e.currentCall.callState===Xn.OUTGOING_CALL_CONNECTED||e.currentCall.callState===Xn.INCOMING_CALL_CONNECTED){var n={peerUserId:t.payload.userId,callState:Xn.RECEIVING_CALL,startTime:t.payload.startTime,missed:!0};return Object(k.a)(Object(k.a)({},e),{},{lastIncomingCall:n,callLog:[].concat(Object(X.a)(e.callLog),[n])})}var r={peerUserId:t.payload.userId,callState:Xn.RECEIVING_CALL,startTime:t.payload.startTime};return Object(k.a)(Object(k.a)({},e),{},{lastIncomingCall:r});case"CALL_ACCEPTED":var a=Object(k.a)(Object(k.a)({},e.lastIncomingCall),{},{startTime:t.payload.startTime,callState:Xn.ACCEPTED});return Object(k.a)(Object(k.a)({},e),{},{currentCall:a});case"CALL_REJECTED":var o=Object(k.a)(Object(k.a)({},e.currentCall),{},{endTime:t.payload.endTime,callState:t.payload.status,rejected:!0});return Object(k.a)(Object(k.a)({},e),{},{currentCall:o,callLog:[].concat(Object(X.a)(e.callLog),[o])});case"CALL_MISSED":var i=Object(k.a)(Object(k.a)({},e.currentCall),{},{endTime:t.payload.endTime,callState:Xn.MISSED_CALL,missed:!0});return Object(k.a)(Object(k.a)({},e),{},{currentCall:i,callLog:[].concat(Object(X.a)(e.callLog),[i])});case"CALL_NOT_ANSWERED":var c=Object(k.a)(Object(k.a)({},e.currentCall),{},{endTime:t.payload.endTime,callState:Xn.CALL_NOT_ANSWERED,notAnswered:!0});return Object(k.a)(Object(k.a)({},e),{},{currentCall:c,callLog:[].concat(Object(X.a)(e.callLog),[c])});case"CALL_CONNECTED":var s=Object(k.a)(Object(k.a)({},e.currentCall),{},{callState:t.payload.status});return Object(k.a)(Object(k.a)({},e),{},{currentCall:s});case"CALL_COMPLETED":var u=Object(k.a)(Object(k.a)({},e.currentCall),{},{callState:t.payload.status,completed:!0});return Object(k.a)(Object(k.a)({},e),{},{currentCall:u,callLog:[].concat(Object(X.a)(e.callLog),[u])});default:return e}}}),xa={},wa=de.d,ja=Object.assign({},{restore:!0,heartbeatInterval:0},ea),Da=new Ca.a(ja),La=function(e){var t=wa(Object(de.a)(Ia.a.withExtraArgument(e)));return Object(de.e)(Na,xa,t)}({pubnub:{api:Da}}),Ta=function(){Da.unsubscribeAll()},Sa=function(){return Object(r.useEffect)((function(){return Da.addListener(Object(H.i)(La.dispatch)),Da.addListener(or(La.dispatch)),Ta}),[]),Object(r.useEffect)((function(){window.addEventListener("beforeunload",Ta)}),[]),a.a.createElement(s.b,{theme:_a},a.a.createElement(g.a,{store:La},a.a.createElement(lt.a,{client:Da},a.a.createElement(p,null),a.a.createElement(l,null),a.a.createElement(aa,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Sa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},34:function(e){e.exports=JSON.parse('{"publishKey":"pub-c-35e2ff77-5ba4-4100-bc98-701af0eed62a","subscribeKey":"sub-c-09218c78-b264-11ea-a40b-6ab2c237bf6e"}')},46:function(e){e.exports=JSON.parse('["user_a652eb6cc34b44c4a39b28fcc24d062b","user_d06c7d5ddc1c4c85bd66844198b2ca38","user_a673547880824a0687b3041af36a5de4","user_102a15c8bc394bdc90d1c8eab58b1de9","user_2ada61d287aa42b59d620c474493474f","user_4ec689d24845466e93ee358c40358473","user_83647bfb6bcd412d93b1e57e1b602d3a","user_def709b1adfc4e67b98bb7a820f581b1","user_6ef19fcc68824f9f9e3d908d796f21a3","user_05f4ac447efc478c834e53ba0cb34444","user_a56c20222c484ff8987ec9b69b0c8f5b","user_ee7e4c6cedbf40cdaaed6de7696b9329","user_c1ee1eda28554d0f88560a51862980b3","user_17b13f16a5164ca4b1e4d88ea434f5a1","user_85d35cf84bf5456f8040cc733d9b09c9","user_fbc9a54790b24ee19441260970b171c0","user_0368d27f4d514079bc5cfd5678ec1fe7","user_5181e07992f44e94a1a81ae9a5d25777","user_fd6f86b6942d4940a895f4059cb188d7","user_5500315bf0a34f9b9dfa0e4fffcf49c2","user_30b5b567829e485ab6267c3c78d48ca3","user_4caced7ebd904676a897628662f37d32","user_0202a46151cc43af890caa521c40576e","user_b17878cd35154a258b86b63050963c74","user_61c5af696dde4a9388f95d402767db16","user_0a0579891c7148009ec254f7ae2e6367","user_ed145d8b0f094b83a2d51d428a59d0cb","user_72a0cc784d4543f2b1d9cee9961d7e49","user_149e60f3117d4fb280c992762d3c09e3","user_35dd06f9b2c749cfb22ddb7b938c5c7c","user_00c56e75c0334ff0b248ca4292d20de3","user_d43bfea6e4234f84ab377d664edf2576","user_cf808eb761754c399922e96b02ac8b94","user_31be78e92e4e4218808007047cbdcebb","user_797c9f53bbc541f6b046fa32339bb2dd","user_9a197f447f314f9ead993f12303d8c75","user_03bcea398fd6441c8f982abbdc94ef75","user_98dac32649e7488ea314a96f808e002d","user_cb3460da976442579c8f4785ec687ddf","user_29bea6fb93384c0f80254a5a9af66fe6","user_f5735bcc168445c38978e46969bc0019","user_363d9255193e45f19513f4bfa9901fbe","user_1bc564bcaa4a476e8392c4c8e2b92983","user_2b0a9e355fc64fa2abf5ef92c87a76cb","user_0b253029175b4ebb8b03c4281757406b","user_608169810dc143998c7964485415a5c7","user_732277cad5264ed48172c40f0f008104","user_4190b08bba444ec58beda6637361cfdb","user_18ded324eb4e465984b2971e990ef8c9","user_78c3e3420b59441380eca3928a8a5b70","user_3c4400761cba4b65b77b6cae55fc21eb","user_515fc9a2a1b043c3847a29f29f3b3c2a","user_7261c27b34954ece93ac0d8a15520591","user_55368a92e24e4e26a2e143db53205fd3","user_f32ea4a710104c06ad5858b0e22cfc88","user_2fae5cc33cfb4cc1befdc261d8c81969","user_d84e6dadbdab4b75bfc51e17a9089546","user_7ec3a868038049f2a7c6515fa64814c6","user_2bf0a23078ca4ea09ed6a86c9efa3b14","user_efc5b3ef96ea4bffbde733e249c8cbb3","user_5be59efdf1bd49e18415c7829666c480","user_55f74958eb00441f8171f4f8757b0f24","user_91bfab48a8464589ae2aafb3858a9e7f","user_c1d462c8eba940f9bc76d3d88838bbfb","user_d2669ccf033f46c79b0adda40cf3383c","user_142da3c419804a82a3057cedc86acaa6","user_8e92a37f342b482facd1eebbd782006a","user_53bbe00387004010a8b9ad5f36bdd4a7","user_c1b2080663a94817868eefb6cac8e18e","user_eff1792e14a746b99b1e92950848772c","user_a67530c8d4ac4ab4a27a9e4b129bdda5","user_dce466f2ebf346168bae8c9024cc17f0","user_912210948aa849eda2c3e0c2b58355e6","user_a25f1a913867452594186bf056c9f165","user_6b48d96586784272abaf89bd15f90295","user_a109e9b5d75349c6ab3c0daf5baa2198","user_a7f0471fb9c64a00af7b3029234cff99","user_159709bbbb534b579770539e0c7d5037","user_63ea15931d8541a3bd35e5b1f09087dc","user_6a535a77e2aa4a109373ac6670d6c2a3","user_aa51f0825ce24faa8bf66709c7d454c2","user_e017338080be4aa7898de218458ff2a5","user_2208f461810144cb8994ecc5136cc3ee","user_93e25fbcac7a4a9c9e5b0e8fa75ac673","user_f4905c936732451b85fd82acc4c45bba","user_4205ea2b9cc549048d4b2e9da389c348","user_f04ca61de8ba44af8e50ed5bd37ff822","user_4e2f18aba20640cf922c8bc485941f8e","user_fcde9d330a5d41a8b810de6cfacff64d","user_dfc0406700564f0797038bebeabb617f","user_00505cca5b04460fafd716af48665ca1","user_47557ad75d4047efab1b6577cec3efe7","user_0149372b160544cf981b6284dd2b5e45","user_fd92e551358e4af1b610cb9bafe39494","user_ffea0ad773f3424592e76f5108deaaaa","user_16cc89c2e06c497cb65930f0c4729dce","user_e0e43601f93249c382415521188f0208","user_868e2d4ecf61494ea10140a00abdb0e5","user_fb9ca56c8d3547268f2d589a6fcb1556","user_a204f87d215a409798be9fb207685f44"]')},47:function(e){e.exports=JSON.parse('{"rtcIceConfig":[{"urls":"stun:68.183.24.218:3478"},{"urls":"stun:stun.l.google.com:19302"}],"rtcDialingTimeoutSeconds":6}')},67:function(e,t,n){e.exports=n.p+"static/media/background.fcad69ea.png"},68:function(e,t,n){e.exports=n.p+"static/media/logo.85dc561e.svg"},69:function(e,t,n){e.exports=n.p+"static/media/screenshot.547f1a66.png"},70:function(e){e.exports=JSON.parse('{"conversationId":"space_ac4e67b98b34b44c4a39466e93e"}')},77:function(e,t,n){e.exports=n(119)}},[[77,1,2]]]);
//# sourceMappingURL=main.ff223fcd.chunk.js.map